<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo-Theme-Sakura</title>
    <url>/2018/12/12/Sakura%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<p>hexo-theme-sakura 主题 <a
href="https://github.com/honjun/hexo-theme-sakura/blob/master/README.md">English
document</a></p>
<p>基于 WordPress 主题<a
href="https://github.com/mashirozx/Sakura/">Sakura</a>修改成 Hexo
的主题。</p>
<p><a href="https://sakura.hojun.cn">demo 预览</a></p>
<p>正在开发中......</p>
<p><img
src="https://wx3.sinaimg.cn/large/006bYVyvly1g069tuf42oj312w0m8ndq.jpg" /></p>
<h2 id="交流群">交流群</h2>
<p>若你是使用者，加群 QQ: 801511924</p>
<p>若你是创作者，加群 QQ: 194472590</p>
<h2 id="主题特性">主题特性</h2>
<ul>
<li>首页大屏视频</li>
<li>首页随机封面</li>
<li>图片懒加载</li>
<li>valine 评论</li>
<li>fancy-box 相册</li>
<li>pjax 支持，音乐不间断</li>
<li>aplayer 音乐播放器</li>
<li>多级导航菜单（按现在大部分 hexo 主题来说，这也算是个特性了）</li>
</ul>
<h2 id="赞赏作者">赞赏作者</h2>
<p>如果喜欢 hexo-theme-sakura 主题，可以考虑资助一下哦~非常感激！</p>
<p><a href="https://www.paypal.me/hojuncn">paypal</a> | <a
href="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/donate/AliPayQR.jpg">Alipay
支付宝</a> | <a
href="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/donate/WeChanSQ.jpg">WeChat
Pay 微信支付</a></p>
<h2 id="未完善的使用教程">未完善的使用教程</h2>
<p>那啥？老实说我目前也不是很有条理 233333333~</p>
<h2 id="主题下载安装">1、主题下载安装</h2>
<p><a
href="https://github.com/honjun/hexo-theme-sakura">hexo-theme-sakura</a>建议下载压缩包格式，因为除了主题内容
还有些 source
的配置对新手来说比较太麻烦，直接下载解压就省去这些麻烦咯。</p>
<p>下载好后解压到博客根目录（不是主题目录哦，重复的选择替换）。接着在命令行（cmd、bash）运行
<code>npm i</code>安装 依赖。</p>
<h2 id="主题配置">2、主题配置</h2>
<h3 id="博客根目录下的_config-配置">博客根目录下的_config 配置</h3>
<p>站点</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Site</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> 你的站点名</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">subtitle</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span><span class="at"> 站点简介</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">keywords</span><span class="kw">:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> 作者名</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">language</span><span class="kw">:</span><span class="at"> zh-cn</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">timezone</span><span class="kw">:</span></span></code></pre></div>
<p>部署</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">deploy</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> git</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">repo</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">github</span><span class="kw">:</span><span class="at"> 你的github仓库地址</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">    # coding: 你的coding仓库地址</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">branch</span><span class="kw">:</span><span class="at"> master</span></span></code></pre></div>
<p>备份 （使用 hexo b 发布备份到远程仓库）</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">backup</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> git</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">message</span><span class="kw">:</span><span class="at"> backup my blog of https://honjun.github.io/</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">repository</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">    # 你的github仓库地址,备份分支名  （建议新建backup分支）</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">github</span><span class="kw">:</span><span class="at"> https://github.com/honjun/honjun.github.io.git,backup</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">    # coding: https://git.coding.net/hojun/hojun.git,backup</span></span></code></pre></div>
<h3 id="主题目录下的_config-配置">主题目录下的_config 配置</h3>
<p>其中标明【改】的是需要修改部门，标明【选】是可改可不改，标明【非】是不用改的部分</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># site name</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点名 【改】</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">prefixName</span><span class="kw">:</span><span class="at"> さくら荘その</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">siteName</span><span class="kw">:</span><span class="at"> hojun</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># favicon and site master avatar</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点的favicon和头像 输入图片路径（下面的配置是都是cdn的相对路径，没有cdn请填写完整路径，建议使用jsdeliver搭建一个cdn啦，先去下载我的cdn替换下图片就行了，简单方便~）【改】</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">favicon</span><span class="kw">:</span><span class="at"> /images/favicon.ico</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">avatar</span><span class="kw">:</span><span class="at"> /img/custom/avatar.jpg</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点url 【改】</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="fu">url</span><span class="kw">:</span><span class="at"> https://sakura.hojun.cn</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点介绍（或者说是个人签名）【改】</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span><span class="at"> Live your life with passion! With some drive!</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点cdn，没有就为空 【改】  若是cdn为空，一些图片地址就要填完整地址了，比如之前avatar就要填https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="fu">cdn</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.6</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 开启pjax 【选】</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="fu">pjax</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点首页的公告信息 【改】</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="fu">notice</span><span class="kw">:</span><span class="at"> hexo-Sakura主题已经开源，目前正在开发中...</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 懒加载的加载中图片 【选】</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="fu">lazyloadImg</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co"># 站点菜单配置 【选】</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="fu">menus</span><span class="kw">:</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">首页</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-fort-awesome faa-shake </span><span class="kw">&#125;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">归档</span><span class="kw">:</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">&#123;</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /archives</span><span class="kw">,</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-archive faa-shake</span><span class="kw">,</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">submenus</span><span class="kw">:</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="at">        &#123;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">技术</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /categories/技术/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-code </span><span class="kw">&#125;,</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">生活</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /categories/生活/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-file-text-o </span><span class="kw">&#125;,</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">资源</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /categories/资源/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-cloud-download </span><span class="kw">&#125;,</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">随想</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /categories/随想/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-commenting-o </span><span class="kw">&#125;,</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">转载</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /categories/转载/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-book </span><span class="kw">&#125;,</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">&#125;</span><span class="at">,</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="at">    &#125;</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">清单</span><span class="kw">:</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">&#123;</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">path</span><span class="kw">:</span><span class="at"> javascript:;</span><span class="kw">,</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-list-ul faa-vertical</span><span class="kw">,</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">submenus</span><span class="kw">:</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="at">        &#123;</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">书单</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /tags/悦读/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-th-list faa-bounce </span><span class="kw">&#125;,</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">番组</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /bangumi/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-film faa-vertical </span><span class="kw">&#125;,</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">歌单</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /music/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-headphones </span><span class="kw">&#125;,</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">图集</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /tags/图集/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-photo </span><span class="kw">&#125;,</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">&#125;</span><span class="at">,</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a><span class="at">    &#125;</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">留言板</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /comment/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-pencil-square-o faa-tada </span><span class="kw">&#125;</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">友人帐</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /links/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-link faa-shake </span><span class="kw">&#125;</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">赞赏</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /donate/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-heart faa-pulse </span><span class="kw">&#125;</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">关于</span><span class="kw">:</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">&#123;</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /</span><span class="kw">,</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-leaf faa-wrench</span><span class="kw">,</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">submenus</span><span class="kw">:</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a><span class="at">        &#123;</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">我？</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /about/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-meetup </span><span class="kw">&#125;,</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">主题</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /theme-sakura/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> iconfont icon-sakura </span><span class="kw">&#125;,</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">Lab</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /lab/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-cogs </span><span class="kw">&#125;,</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">&#125;</span><span class="at">,</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a><span class="at">    &#125;</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">客户端</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /client/</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-android faa-vertical </span><span class="kw">&#125;</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">RSS</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /atom.xml</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-rss faa-pulse </span><span class="kw">&#125;</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Home page sort type: -1: newer first，1: older first. 【非】</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="fu">homePageSortType</span><span class="kw">:</span><span class="at"> </span><span class="dv">-1</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Home page article shown number) 【非】</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a><span class="fu">homeArticleShown</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="co"># 背景图片 【选】</span></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a><span class="fu">bgn</span><span class="kw">:</span><span class="at"> </span><span class="dv">8</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a><span class="co"># startdash面板 url, title, desc img 【改】</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a><span class="fu">startdash</span><span class="kw">:</span></span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> /theme-sakura/</span><span class="kw">,</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Sakura</span><span class="kw">,</span><span class="at"> </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> 本站 hexo 主题</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/startdash/sakura.md.png </span><span class="kw">&#125;</span></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="kw">&#123;</span></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://space.bilibili.com/271849279</span><span class="kw">,</span></span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Bilibili</span><span class="kw">,</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> 博主的b站视频</span><span class="kw">,</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/startdash/bilibili.jpg</span><span class="kw">,</span></span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">&#125;</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> /</span><span class="kw">,</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> hojun的万事屋</span><span class="kw">,</span><span class="at"> </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> 技术服务</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/startdash/wangshiwu.jpg </span><span class="kw">&#125;</span></span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a><span class="co"># your site build time or founded date</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a><span class="co"># 你的站点建立日期 【改】</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a><span class="fu">siteBuildingTime</span><span class="kw">:</span><span class="at"> 07/17/2018</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a><span class="co"># 社交按钮(social)  url, img PC端配置 【改】</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a><span class="fu">social</span><span class="kw">:</span></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">github</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://github.com/honjun</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/social/github.png </span><span class="kw">&#125;</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">sina</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://weibo.com/mashirozx?is_all=1</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/social/sina.png </span><span class="kw">&#125;</span></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">wangyiyun</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://weibo.com/mashirozx?is_all=1</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/social/wangyiyun.png </span><span class="kw">&#125;</span></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">zhihu</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://weibo.com/mashirozx?is_all=1</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/social/zhihu.png </span><span class="kw">&#125;</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://weibo.com/mashirozx?is_all=1</span><span class="kw">,</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> /img/social/email.svg </span><span class="kw">&#125;</span></span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">wechat</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> /</span><span class="co">#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png &#125;</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a><span class="co"># 社交按钮(msocial)  url, img 移动端配置 【改】</span></span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a><span class="at">msocial:</span></span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a><span class="at">  github: &#123; url: http://github.com/honjun</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-github</span><span class="kw">,</span><span class="at"> </span><span class="fu">color</span><span class="kw">:</span><span class="at"> </span><span class="dv">333</span><span class="at"> </span><span class="kw">&#125;</span></span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">weibo</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> http://weibo.com/mashirozx?is_all=1</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-weibo</span><span class="kw">,</span><span class="at"> </span><span class="fu">color</span><span class="kw">:</span><span class="at"> dd4b39 </span><span class="kw">&#125;</span></span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">qq</span><span class="kw">:</span><span class="at"> </span><span class="kw">&#123;</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes</span><span class="kw">,</span><span class="at"> </span><span class="fu">fa</span><span class="kw">:</span><span class="at"> fa-qq</span><span class="kw">,</span><span class="at"> </span><span class="fu">color</span><span class="kw">:</span><span class="at"> 25c6fe </span><span class="kw">&#125;</span></span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a><span class="co"># 赞赏二维码（其中wechatSQ是赞赏单页面的赞赏码图片）【改】</span></span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a><span class="fu">donate</span><span class="kw">:</span></span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">alipay</span><span class="kw">:</span><span class="at"> /img/custom/donate/AliPayQR.jpg</span></span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">wechat</span><span class="kw">:</span><span class="at"> /img/custom/donate/WeChanQR.jpg</span></span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">wechatSQ</span><span class="kw">:</span><span class="at"> /img/custom/donate/WeChanSQ.jpg</span></span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a><span class="co"># 首页视频地址为https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4，配置如下 【改】</span></span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a><span class="fu">movies</span><span class="kw">:</span></span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/hojun@1.2</span></span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a><span class="co">  # 多个视频用逗号隔开，随机获取。支持的格式目前已知MP4,Flv。其他的可以试下，不保证有用</span></span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Unbroken.mp4</span></span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a><span class="co"># 左下角aplayer播放器配置 主要改id和server这两项，修改详见[aplayer文档] 【改】</span></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a><span class="fu">aplayer</span><span class="kw">:</span></span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">id</span><span class="kw">:</span><span class="at"> </span><span class="dv">2660651585</span></span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">server</span><span class="kw">:</span><span class="at"> netease</span></span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> playlist</span></span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">fixed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">mini</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">autoplay</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">loop</span><span class="kw">:</span><span class="at"> all</span></span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">order</span><span class="kw">:</span><span class="at"> random</span></span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">preload</span><span class="kw">:</span><span class="at"> auto</span></span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">volume</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.7</span></span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">mutex</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a><span class="co"># Valine评论配置【改】</span></span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a><span class="fu">valine</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a><span class="fu">v_appId</span><span class="kw">:</span><span class="at"> GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz</span></span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a><span class="fu">v_appKey</span><span class="kw">:</span><span class="at"> mgOpfzbkHYqU92CV4IDlAUHQ</span></span></code></pre></div>
<h2 id="分类页和标签页配置">分类页和标签页配置</h2>
<h3 id="分类页">分类页</h3>
<p><img
src="https://ws3.sinaimg.cn/large/006bYVyvly1g07b0gucy9j31060jih76.jpg" /></p>
<h3 id="标签页">标签页</h3>
<p><img
src="https://wx2.sinaimg.cn/large/006bYVyvly1g07azb2399j31040jgazs.jpg" /></p>
<p>配置项在-cn.yml
里。新增一个分类或标签最好加下哦，当然嫌麻烦可以直接使用
一张默认图片（可以改主题或者直接把 404
图片替换下，征求下意见要不要给这个在配置文件中加个开关，可以 issue
或群里提出来），现在是没设置的话会使用那种倒立小狗 404 哦。</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#category</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 按分类名创建</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">技术</span><span class="kw">:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">  #中文标题</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">zh</span><span class="kw">:</span><span class="at"> 野生技术协会</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">  # 英文标题</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">en</span><span class="kw">:</span><span class="at"> Geek – Only for Love</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">  # 封面图片</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">生活</span><span class="kw">:</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">zh</span><span class="kw">:</span><span class="at"> 生活</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">en</span><span class="kw">:</span><span class="at"> live</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#tag</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 标签名即是标题</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">悦读</span><span class="kw">:</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">  # 封面图片</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg</span></span></code></pre></div>
<h2 id="单页面封面配置">单页面封面配置</h2>
<p><img
src="https://ws3.sinaimg.cn/large/006bYVyvly1g07b1pi619j31080jge4u.jpg" />
如留言板页面页面，位于 source 下的 comment 下，打开 index.md 如下：</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> comment</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> 2018-12-20 23:13:48</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="an">keywords:</span><span class="co"> 留言板</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="an">comments:</span><span class="co"> true</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 在这里配置单页面头部图片，自定义替换哦~</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="an">photos:</span><span class="co"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span></code></pre></div>
<h2 id="单页面配置">单页面配置</h2>
<h3
id="番组计划页-请直接在下载后的文件中改下面的添加了注释可能会有些影响">番组计划页
（请直接在下载后的文件中改，下面的添加了注释可能会有些影响）</h3>
<p><img
src="https://wx2.sinaimg.cn/large/006bYVyvly1g07b2gyx60j31090jjahj.jpg" /></p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span><span class="kw">:</span><span class="at"> bangumi</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> bangumi</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">comments</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> 2019-02-10 21:32:48</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">keywords</span><span class="kw">:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">bangumis</span><span class="kw">:</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">  # 番组图片</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">  # 番组名</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> 朝花夕誓——于离别之朝束起约定之花</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">  # 追番状态 （追番ing/已追完）</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">status</span><span class="kw">:</span><span class="at"> 已追完</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">  # 追番进度</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">progress</span><span class="kw">:</span><span class="at"> </span><span class="dv">100</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">  # 番剧日文名称</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">jp</span><span class="kw">:</span><span class="at"> さよならの朝に約束の花をかざろう</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">  # 放送时间</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">time</span><span class="kw">:</span><span class="at"> 放送时间: 2018-02-24 SUN.</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">  # 番剧介绍</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">desc</span><span class="kw">:</span><span class="at">  住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> 朝花夕誓——于离别之朝束起约定之花</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">status</span><span class="kw">:</span><span class="at"> 已追完</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">progress</span><span class="kw">:</span><span class="at"> </span><span class="dv">50</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">jp</span><span class="kw">:</span><span class="at"> さよならの朝に約束の花をかざろう</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">time</span><span class="kw">:</span><span class="at"> 放送时间: 2018-02-24 SUN.</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<h3
id="友链页-请直接在下载后的文件中改下面的添加了注释可能会有些影响">友链页
（请直接在下载后的文件中改，下面的添加了注释可能会有些影响）</h3>
<p><img
src="https://ws3.sinaimg.cn/large/006bYVyvly1g07b39tleej31080jhjv1.jpg" /></p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode yml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span><span class="kw">:</span><span class="at"> links</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> links</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建日期，可以改下</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> 2018-12-19 23:11:06</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 图片上的标题，自定义修改</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">keywords</span><span class="kw">:</span><span class="at"> 友人帐</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">description</span><span class="kw">:</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># true/false 开启/关闭评论</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">comments</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 页面头部图片，自定义修改</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="fu">photos</span><span class="kw">:</span><span class="at"> https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 友链配置</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="fu">links</span><span class="kw">:</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">  # 类型分组</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">group</span><span class="kw">:</span><span class="at"> 个人项目</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">    # 类型简介</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="fu">    desc</span><span class="kw">: </span><span class="at">充分说明这家伙是条咸鱼 &lt; (￣︶￣)</span><span class="ch">&gt;</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co">      # 友链链接</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://shino.cc/fgvf</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co">        # 友链头像</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="co">        # 友链站点名</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Google</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co">        # 友链介绍  下面雷同</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> Google 镜像</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://shino.cc/fgvf</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Google</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> Google 镜像</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="co">  # 类型分组...</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">group</span><span class="kw">:</span><span class="at"> 小伙伴们</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> 欢迎交换友链 ꉂ(ˊᗜˋ)</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">items</span><span class="kw">:</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://shino.cc/fgvf</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Google</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> Google 镜像</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">url</span><span class="kw">:</span><span class="at"> https://shino.cc/fgvf</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">img</span><span class="kw">:</span><span class="at"> https://cloud.moezx.cc/Picture/svg/landscape/fields.svg</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Google</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">desc</span><span class="kw">:</span><span class="at"> Google 镜像</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<h2 id="写文章配置">写文章配置</h2>
<p>主题集成了个人插件 hexo-tag-bili 和 hexo-tag-fancybox_img。其中
hexo-tag-bili 用来在文章或单页面中插 入 B 站外链视频，使用语法如下：</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#123;% bili video_id [page] %&#125;</span></span></code></pre></div>
<p>详细使用教程详 见<a
href="https://github.com/honjun/hexo-tag-bili/blob/master/README-zh_cn.md">hexo-tag-bili</a>。</p>
<p>hexo-tag-fancybox_img 用来在文章或单页面中图片，使用语法如下：</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode md"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">&#123;% fb_img src [caption] %&#125;</span></span></code></pre></div>
<p>详细使用教程详 见<a
href="https://github.com/honjun/hexo-tag-fancybox_img/blob/master/README-zh_cn.md">hexo-tag-fancybox_img</a></p>
<h2 id="还有啥一时想不起来">还有啥，一时想不起来</h2>
<p>To be continued...</p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>教程</tag>
      </tags>
  </entry>
  <entry>
    <title>一场权力游戏</title>
    <url>/2022/06/30/%E5%A0%95%E8%83%8E/</url>
    <content><![CDATA[<p>原创 叶橙子 [Vista看天下] 2022-06-27 23:48 <em>发表于北京</em></p>
<p><img src="https://s2.loli.net/2022/06/30/wrohHV5WXsbkqFJ.png" /></p>
<p>刚过去的周末里，半个朋友圈都炸了，纷纷转发起一条新闻：</p>
<p>当地时间6月24日，美国最高法院裁决推翻“罗诉韦德案”。</p>
<p>1973年的“罗诉韦德案”，象征着“堕胎合法化”在美国被证实承认，而它被推翻，意味着一座里程碑就此倒塌。</p>
<p><strong>联邦法律不再保障堕胎权，并将堕胎的合法性问题交给了各州。</strong></p>
<p>这一裁决激发了全美多地的大规模抗议。</p>
<p><img src="https://s2.loli.net/2022/06/30/PvdlRXwxgtMD8z9.png" /></p>
<p>虽说最高法院的裁决并不能控制美国各州的内部决策，州政府与法院依旧可以选择支持堕胎合法化。</p>
<p>但这一变动带来的影响，无法估量。</p>
<p>“罗案”被推翻在无数普通人的意料之外，他们无法想象法律怎会倒退，并喊响了“We
Won't Go Back”的口号。</p>
<p>震惊于裁决之余，我重温了2018年的一部展现美国堕胎争议的纪录片《推翻罗诉韦德》。</p>
<p>今时今日重看它，一个让人毛骨悚然的道理再度浮现在脑海中。</p>
<p><img src="https://s2.loli.net/2022/06/30/PNGhRnwrZYu4Fvy.png" /></p>
<p>朴素的道德观让所有人都愿意相信：</p>
<p><strong>正义诞生于民意、正义的呼声终将撼动不公的现实。</strong></p>
<p>但此次裁决冷酷地揭开了另一个被忽略已久的事实：</p>
<p><strong>正义实现与否，很可能只是一场权力游戏。 </strong></p>
<h2 id="section"><strong>01</strong></h2>
<h4 id="推翻罗诉韦德案后"><strong>推翻“罗诉韦德案”后</strong></h4>
<h4 id="它们岌岌可危"><strong>它们岌岌可危</strong></h4>
<p>早在5月份，“罗案”可能被推翻的消息走漏后，就有十三个州先后准备拟定了相关草案，被大众认为是“扳机法案”。</p>
<p>也就是等“罗案”正式推翻、一声枪响后，就有可能马上通过州立法案、禁止或限制堕胎权。</p>
<p>古特马赫研究所预测，可能会有26个州先后立法、选择限制堕胎。</p>
<p><img src="https://s2.loli.net/2022/06/30/dAQwNTkpxLOXh3Y.jpg" /></p>
<p>红色州已确认会全面禁止堕胎；黄色州有很大可能会马上通过法案禁止堕胎；蓝色州已知会保护女性堕胎权利；灰色州预计不会在本年内通过法案禁止堕胎。</p>
<p>推翻的判决书中一个核心观点是：</p>
<p>“罗诉韦德案”的裁决过程是有瑕疵的、质疑其粗放滥用司法权力（exercise of
raw judicial power）（410 U. S., at 222）。</p>
<p>从法律角度来看，这一质疑没错。</p>
<p>“罗诉韦德案”，罗是70年代一位想要堕胎的年轻女子的化名，而韦德则是地方司法官的名字。</p>
<p>罗生活的得州禁止堕胎（除非是医疗上为了保全母亲性命），两位女律师希望帮她上诉、起诉德州司法官。</p>
<p>法律中的确没有规定“堕胎权的自由”，于是女律师们<strong>选择以侵犯隐私权来起诉</strong>。</p>
<p><img src="https://s2.loli.net/2022/06/30/zHXtrmlFesPSyRJ.png" /></p>
<p>这一案件打了三年，直到递交到最高法院。</p>
<p>当时的律师是26岁的萨拉，是彼时联邦法院上最年轻的女性辩护律师。</p>
<p>法官问她，你认为人的生命是从何时开始的？</p>
<p>萨拉的现场回复是：</p>
<blockquote>
<p>我们没必要讨论这个精确的时刻，因为没有答案，不同文化与不同宗教都会得出不同的结果。</p>
<p><strong>现在的问题是，谁能做出这个（堕胎的）决定，是妇女还是政府？</strong></p>
<p>我认为不该是政府。</p>
</blockquote>
<p>最终在1973年1月22日，最高法院中9位法官有7位支持了萨拉的意见。</p>
<p><img src="https://s2.loli.net/2022/06/30/C9SGAnmWtIVqahy.png" /></p>
<p><strong>严格来说，这一案件的判决的确是有瑕疵的。 </strong></p>
<p>因为法律并没有书面地承认女性堕胎的权利，而是以“侵犯隐私”的条例，维护了罗的堕胎选择。</p>
<p>如今已离世，曾被称赞为“一位不知疲倦、坚决捍卫正义的斗士”的金斯伯格大法官，<strong>生前也曾对此表达担忧</strong>。</p>
<p>因此，“罗案”判决出来后在美国内部掀起了巨大的争议，甚至被称为“第二次内战”。</p>
<p>不只是伦理层面、胎儿算不算生命之类的争执，也不乏司法、执行层面的质疑。</p>
<p><img src="https://s2.loli.net/2022/06/30/kGeTcEf7AP65wBJ.png" /></p>
<p>不少人很担忧，“罗案”判决的推翻，可能不只带来堕胎的限制。</p>
<p>因为历史上以隐私权为依据的判决还有很多，还有1965年确立的避孕权、1967年采纳的跨种族婚姻权利等等。</p>
<p>前美国检察官Joyce White
Vance表示：“如果罗诉韦德案被推翻，那些‘一脉相承’的权利都可能面临危险。”</p>
<p><img src="https://s2.loli.net/2022/06/30/kwHUS7y5eL6ZuMc.png" /></p>
<p>我们如今已经无法追溯询问，当年的七位法官做出这份判决背后的考量分别是什么。</p>
<p>是法理思考更多，还是或许会被斥责不严谨的人性顾虑更多。</p>
<p><strong>但可以确定的是，“罗案”之后有无数美国女性因此受益：
</strong></p>
<p>2018年的纪录片《推翻罗诉韦德案》及其他相关影视作品中都有提及，上世纪许多女性受限于禁止堕胎的法律，选择了用“土方法”堕胎。</p>
<p>疯狂捶打自己的肚子、服用不利于胎儿的药物，乃至往子宫中灌漂白水、把衣架塞进去搅动。</p>
<p>有的衣架铁丝，甚至永远地留在了身体深处。</p>
<p><img src="https://s2.loli.net/2022/06/30/wsMrklvyDLjFHJC.png" /></p>
<p>这也是医学期刊《柳叶刀》在最新一期封面上表达、控诉的观点：</p>
<p>最高法院推翻“罗案”的判决，并不会终止堕胎，只会终止安全的堕胎。</p>
<p>大法官与支持者的双手上将沾满女性的鲜血。</p>
<p>根据世界卫生组织在2016年的数据，全球每年有4200万起堕胎，其中一半发生在堕胎违法的国家。</p>
<p><img src="https://s2.loli.net/2022/06/30/glKFQdXU7yYSMHR.jpg" /></p>
<p>对一部分医护群体来说，堕胎权合法化也是他们的胜利。</p>
<p>美国历史上不少医护因提供堕胎手术，被反堕胎人士骚扰、殴打辱骂乃至杀害。</p>
<p>部分极端反堕胎人士甚至冲到了医护孩子的学校里，对孩子喊“你的父母是杀人凶手”。</p>
<p><img src="https://s2.loli.net/2022/06/30/EeuQChmO1XMFZJl.png" /></p>
<p>荷兰医生黎贝卡组建了“海浪上的女人”项目，前往堕胎非法的国家接走需要堕胎的女性，然后在公海上进行手术。</p>
<p>包括被强奸的女兵，被家暴无钱手术的女人……</p>
<p>但也因此，每一次黎贝卡的船靠岸，她都会受到当地的反堕胎人士的围攻辱骂。</p>
<p><img
src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" /></p>
<h2 id="section-1"><strong>02</strong></h2>
<h4 id="堕胎的伦理问题"><strong>堕胎的伦理问题</strong></h4>
<h4 id="如今不过是道幌子"><strong>如今不过是道幌子</strong></h4>
<p>最开始，堕胎争议的确只是伦理问题。</p>
<p>有人认为堕胎无异于杀生，认为胎儿已经拥有了生命与灵魂。</p>
<p><img src="https://s2.loli.net/2022/06/30/QX4IRA76F5wGgnP.png" /></p>
<p>纪录片《推翻罗诉韦德案》采访了一位讨厌反堕胎人士的老爷子，他给出的理由也仅限于这一层面、很简单：</p>
<p>他们想把自己的信仰强加到别人身上，我不喜欢。</p>
<p><img src="https://s2.loli.net/2022/06/30/pMbFdB4sW892tuC.png" /></p>
<p>尽管如今，反堕胎已经被视为共和党的一项观点标签。</p>
<p>特朗普在竞选时曾明确表态，如果他能任命两三个法官，那将能自然而然地推翻“罗案”的判决。</p>
<p>事实证明，他成功了。</p>
<p>此次支持推翻“罗案”的五位法官中，三位是特朗普任命。</p>
<p><img src="https://s2.loli.net/2022/06/30/INhDV2H49YPw5Jv.png" /></p>
<p>但回溯到五六十年代，堕胎权还并不是政客们争夺的焦点。</p>
<p>那时还是纽约州长的共和党官员洛克菲勒明确支持堕胎的选择：</p>
<p>“为什么州政府要告诉女性应不应该流产？”</p>
<p><img src="https://s2.loli.net/2022/06/30/TVo7WYJNKpycRzI.png" /></p>
<p>但在70年代末，一切发生了变化。</p>
<p>堕胎的讨论被搬到了台面上，争锋越来越激烈、站队现象也越来越多。</p>
<p><strong>它不可避免地，从一个伦理、社会及医学话题，演变成了党派问题。</strong></p>
<p><img src="https://s2.loli.net/2022/06/30/wJmMUi35sjlPoK8.png" /></p>
<p>罗纳德·里根在60年代参选纽约州长时，还主张“亲选择派”，也就是支持女性选择堕胎的权利。</p>
<p>但80年代参选总统，他的团队判断更应该争取福音派与保守派的选票，里根开始反堕胎。</p>
<p>他成了第一位靠强硬反堕胎立场、争得了自身仕途的共和党总统。</p>
<p>老布什亦如此，选举总统时直言“我认为应给罗诉韦德案翻案”。</p>
<p><img src="https://s2.loli.net/2022/06/30/AsBt5h7mcu3rfyl.png" /></p>
<p>如果堕胎的争议仅停留于伦理层面，双方的争执或许还是有价值的。</p>
<p>因为那只是不同信仰的人群，关于生命的不同观点而已。</p>
<p>普通人为了堕胎争议吵架拌嘴，可以只是“你太残忍”“你不顾忌女性”这样的口头指责。</p>
<p><strong>但身为政客提出反堕胎时，如果依旧只知道喊道德口号。</strong></p>
<p><strong>那它更像是一场权力者的表演。</strong></p>
<p><img src="https://s2.loli.net/2022/06/30/DCeoh8t1xMGlgEp.png" /></p>
<p>如果真的想减少堕胎，有更多制度化的实际措施可尝试：</p>
<p>普及保护性的性行为、完善孕期及幼儿抚养的社会福利、降低产检门槛……</p>
<p><strong>它们才是意外怀孕、被迫堕胎的根源所在，也是当事人的苦难来源。</strong></p>
<p>一份加州大学旧金山分校的研究数据显示：</p>
<p>家庭财务状况是决定是否终止意外怀孕的主要原因。</p>
<p>而堕胎被拒绝的女性，低于联邦贫困线的几率几乎是可合法堕胎女性的4倍，说明她们更容易因无法堕胎而跌入底层。</p>
<p><img src="https://s2.loli.net/2022/06/30/INyTzjqMeA9RDJr.png" /></p>
<p><strong>堕胎，在这个现象里只是一个残忍而无奈的结果。</strong></p>
<p><strong>堕胎的伦理争议，在现实面前只是一层悬浮而无效的幌子。</strong></p>
<p>而反对堕胎，并不能实现“胎儿也是人”的平等愿景，反而会加剧另一种不平等现象的出现：</p>
<p>富人有精力与财富，坐飞机到其他允许堕胎的州或国家，去完成堕胎。</p>
<p>而穷人，要么选择屈服、在并不理想的环境下生养孩子，要么选择藏在隐秘的角落，用混乱、不安全的手段，悄悄堕胎。</p>
<p><img src="https://s2.loli.net/2022/06/30/CNMiQsqXGrct34g.png" /></p>
<p>拉达斯曾经有一趟航班，每周四都会有一架飞往加利福尼亚的航班，每一趟至少有10名女性是去堕胎的。</p>
<p>飞机上的10名女性是不幸的，她们无权在自己的家乡决定自己身体。</p>
<p>她们身后，还有千千万万无法登上飞机的女性。</p>
<p><img src="https://s2.loli.net/2022/06/30/wB8QqC9tlYT3bMN.png" /></p>
<h2 id="section-2"><strong>03</strong></h2>
<h4 id="是民意"><strong>是民意，</strong></h4>
<h4 id="还是一场权力的游戏"><strong>还是一场权力的游戏？</strong></h4>
<p>最高法院对“罗案”判决的推翻，最让人意外之处莫过于：</p>
<p><strong>人们明明知道时代大风吹拂的方向，但却眼睁睁地看着旧时代的墙壁横空竖起，阻挡了前行的旅途。</strong></p>
<p>美国民意调查公司盖洛普近年来的调查显示，超过60%的美国妇女认为自己是女权主义者，其中包括42%的共和党妇女。</p>
<p>超过一半的美国女性表示，比起呆在家里，她们更喜欢出去工作。</p>
<p><img src="https://s2.loli.net/2022/06/30/19FkUpGgQHZOJNe.png" /></p>
<p>美国妇女政策研究所基于2020年的数据发现，如果美国所有的堕胎限制都被取消，那么15~44岁的女性个体的工资将会增加1610美元。</p>
<p>如果各州都没有堕胎限制，将会有50.5万名美国女性进入劳动力市场，她们每年将赚约30亿美元。</p>
<p>不论从情感上还是经济利益上，支持女性拥有堕胎权利似乎都是一件顺应时代大潮的事。</p>
<p><strong>但结果摆在了人们眼前，“推翻罗诉韦德案”。</strong></p>
<p><img src="https://s2.loli.net/2022/06/30/jVowCxpsrHOmDh9.png" />
曾在2017年包揽七项艾美奖的《使女的故事》，曾虚构了一个女性沦为生育机器的末日世界。</p>
<p>地球爆发污染辐射后，大批女性失去了生育能力，只有一部分女性保留。</p>
<p>在某一天，国家突然下令要求所有公司立刻开除女性，不由分说地执行，并很快剥夺了女性办理银行卡的权利。</p>
<p><img src="https://s2.loli.net/2022/06/30/vgbmdezujUI1MST.png" /></p>
<p>他们把所有还能生育的女性集中到一块，称为“使女”。使女不许有名字，她们只是达官贵人们的附属品，给一位生完孩子、再去生下一个。</p>
<p>反抗的女子将被施加极刑。</p>
<p><img src="https://s2.loli.net/2022/06/30/15H6DWLQxXtIgTd.png" /></p>
<p>对刑罚的恐惧，对生存食粮的渴望，让很多人的意志逐渐开始屈服。</p>
<p><strong>同时社会开始不断美化这一行为：</strong></p>
<p>“你们是崇高的，你们这是为了延续人类的种族。”</p>
<p>就像对那些贫苦女性说的话，“反堕胎是崇高的，你是在拯救生命”。</p>
<p>美国反堕胎的游行中，就有人穿上《使女的故事》装扮，来表达对身体掌控权的争取。</p>
<p><img src="https://s2.loli.net/2022/06/30/i1k8ODyB4XNQGWV.png" /></p>
<p>《使女的故事》以冷酷的镜头展现尽了极端黑暗中女性的悲伤、痛苦与恐惧，我原以为使女们的苦难便是这剧最恐怖之处，直到这句台词出现：</p>
<p><strong>“基列国才不在乎孩子，基列国只在乎权力”</strong></p>
<p><img src="https://s2.loli.net/2022/06/30/X2qIDt18jBr6OKw.png" /></p>
<p>那是觉醒的女主试图用孩子的生命来威胁他人、获取自由时，她原以为在这个最看重生育的国家，对方会就此退让。</p>
<p>结果却意识到，孩子不是核心，权力才是。</p>
<p>他们并不真正在乎谁在生育孩子、孩子在什么环境长大，<strong>在乎的是自己有没有决定并把控一切的权力。</strong></p>
<p><img src="https://s2.loli.net/2022/06/30/srUmlM3I2SnToYH.png" /></p>
<p>最恐怖的事情，早在一开始就发生了。</p>
<p>从他们毫无顾忌地闯入办公室、强行要求开除女性员工开始，无情与野蛮的倾轧就不会停下。</p>
<p><img src="https://s2.loli.net/2022/06/30/j9T6mQunJetSgXN.png" /></p>
<p>在2018年的纪录片中，反堕胎人士还曾向制作组说：“我们目前最大的障碍就最高法院，最高法院拒绝推翻罗诉韦德案”。</p>
<p>如今，里程碑式的它倒下了。</p>
<p>法理上看，美国各州重新拥有了自主决定堕胎的权利，法律交还给各州民众自行决定。</p>
<p><strong>但谁也无法打包票，最后人们得到的结果是民意，还是一场权力游戏的胜负。</strong></p>
<p>就像这次风波看似是共和党、保守派的胜利，但也有州民主党早早地为此开启了民调，判断风波是否对自身有利、支持堕胎是否能成为中期选举拉选票的关键。</p>
<p><img src="https://s2.loli.net/2022/06/30/HW2axIpTshELcuZ.png" /></p>
<p>不只是对美国的民众，推翻罗诉韦德案的争议给世界范围内都泼了一盆冷水、也令人反省的是：</p>
<p><strong>权力，从始至终都只关乎利益。</strong></p>
<p><strong>哪怕声量再高、阵仗再大、诉求再正义不过，也无法左右它的抉择。</strong></p>
<p>人们误以为的成就与进步，可能只是手指缝里的一点做做样子的施舍与应和。</p>
<p>又或是如金斯伯格，暮年身患5种癌症却坚持在大法官岗位上留到最后，才换来的星星点点光辉。</p>
<p>借一部纪录片的名字，来书写最后一句感想——</p>
<p><strong>“她在愤怒时最美。”</strong></p>
<p><img src="https://s2.loli.net/2022/06/30/m4SjM3nQLTXYcor.png" /></p>
]]></content>
      <categories>
        <category>随想</category>
      </categories>
      <tags>
        <tag>堕胎</tag>
        <tag>权力</tag>
      </tags>
  </entry>
  <entry>
    <title>为什么我们都在怀念2019</title>
    <url>/2022/04/25/%E6%80%80%E5%BF%B52019/</url>
    <content><![CDATA[<h1 id="我们为什么都在怀念2019年">我们为什么都在怀念2019年？</h1>
<p>2022年，却有越来越多的人想要回到2019。</p>
<p>2019年，第一批90后即将迈入30岁的那年。</p>
<p>2018年底，美团创始人王兴在他的饭否主页上发了这样一段话。</p>
<p><img src="https://s2.loli.net/2022/06/27/cUxrSqLudpNhzPy.png" /></p>
<p>这句话，当时人们是当赛博笑话看的，或者理解成互联网行业例行裁员前的一次舆论铺垫。</p>
<p>总而言之，人们绝不相信这就是未来10年最好的一年。</p>
<p>1</p>
<p>最好的2019，最坏的2019</p>
<p>从2019年一开始，大家都开心不起来了。</p>
<p>农历新年前后，青海玉树遭遇了十年一遇的雪灾。</p>
<p><img src="https://s2.loli.net/2022/06/27/93izVM8fOGCHZvw.gif" /></p>
<p>受灾人数近60万，有几万只动物在大雪中被埋。</p>
<p><img src="https://s2.loli.net/2022/06/27/BLNqFJaP5fUsDC1.png" /></p>
<p>3月30日，四川木里又突发森林大火。</p>
<p><img src="https://s2.loli.net/2022/06/27/M7ijCXyOVJ8BPoQ.gif" /></p>
<p>在这场火灾中，有30位烈士离开了我们，其中最小的消防员年仅18岁。</p>
<p><img src="https://s2.loli.net/2022/06/27/GDUWpk7LXMRK5fY.png" /></p>
<p>火，在2019年是一个不祥的符号。</p>
<p>2019年的人类世界，有很多我们所珍视的东西都毁于火焰。</p>
<p>4月15日，法国巴黎圣母院发生火灾，整座建筑损毁严重。</p>
<p><img src="https://s2.loli.net/2022/06/27/RKsZT9qwcL8JklP.png" /></p>
<p>巴黎圣母院的大火让全世界哗然，由此引申出了许多关于政治、宗教与种族的阴谋论。</p>
<p>但更多的人只是感到遗憾，毕竟作为全人类的文明遗产，自己也许还没来得及去看看。</p>
<p>同年，又发生了被称为动画界911的“京都动画”纵火案，许多陪伴过我们的作品，与他们的作者和原稿一起永远留在了京阿尼。</p>
<p><img src="https://s2.loli.net/2022/06/27/bQkPjfYa7nMec8m.png" /></p>
<p>有人说这是日本经济社会经济长期下行的必然悲剧，也有人为黑白页面的B站番区吵个没完。</p>
<p><img src="https://s2.loli.net/2022/06/27/oX61st9VwTyDG7Q.png" /></p>
<p>再之后，令人绝望的大火又长久地盘踞在亚马逊森林，地球之肺险些被烧穿。</p>
<p><img src="https://s2.loli.net/2022/06/27/XDUSf8H9CI6QmGr.png" /></p>
<p>·亚马逊火灾卫星图 图源：NASA</p>
<p>火，不是2019年唯一的苦难。</p>
<p>3月10日，埃塞俄比亚航空公司一架全新的波音737
MAX8客机在起飞6分钟后坠毁，机上149名乘客和8名机组人员全部罹难。</p>
<p><img src="https://s2.loli.net/2022/06/27/aMhePs2JbAZDYcn.png" /></p>
<p>4月21日，斯里兰卡首都先后发生8起连环爆炸案，有253人在这次恐怖袭击中丧生，其中6人是中国公民。</p>
<p><img src="https://s2.loli.net/2022/06/27/f75C8EDmTuhgpQb.png" /></p>
<p>我们意识到仇恨也是构成人类文明的一部分，这个被技术和协定包裹起来的世界实则动荡不安。</p>
<p>但是，2019也并非都是坏消息。</p>
<p>天气和新闻让人焦虑，但我们却从星空中获得了许多慰藉。</p>
<p>那一年，嫦娥四号传回了人类首张月球背影，我们终于看清了神秘的月之暗面。</p>
<p><img src="https://s2.loli.net/2022/06/27/Mjd1ZalghQ2miJI.png" /></p>
<p>紧接着，《流浪地球》上映，无数走进影院的观众高呼，属于中国人的科幻电影时代终于来了。</p>
<p><img src="https://s2.loli.net/2022/06/27/48dqYzlh6PZWcpS.png" /></p>
<p>“北京道路安全委提醒你：道路千万条，安全第一条，行车不规范，亲人两行泪。”这句话在全球被以28种语言播放。</p>
<p><img src="https://s2.loli.net/2022/06/27/oSd1ULwWFXKZ2lP.png" /></p>
<p>所以很多人把2019称为“中国科幻电影元年”，不过也有人说是“圆寂”的“圆”，因为那一年还上了一部电影叫《上海堡垒》。</p>
<p>高兴的不只影迷，还有球迷。</p>
<p>2019年亚洲杯，中国男足2∶1逆转泰国打进八强，给中国人民打了一剂强心针，网上到处都是国足的精彩进球集锦。</p>
<p><img src="https://s2.loli.net/2022/06/27/u2P5rleOqUJZn7a.jpg" /></p>
<p>尽管最终不敌伊朗无缘四强，但赛后队长郑智哽咽着道歉还是感动了很多球迷，大家都觉得我们仍有希望。</p>
<p>2019年，科比来深圳参加了篮球世界杯的抽签仪式，上千名穿着24号队服的球迷在体育馆外大喊：“科比，生儿子。”<img
src="https://s2.loli.net/2022/06/27/3nGWZ58TJc4rl2i.png" /></p>
<p>其实，2019年的世界体坛并不算太平。</p>
<p>2019年，世界反兴奋剂机构将俄罗斯从国际体育赛事中驱逐四年，我们第一次知道奥运会可以将一整个国家除名。</p>
<p><img src="https://s2.loli.net/2022/06/27/yT7IhOqZEkXuUFz.png" /></p>
<p>“我想我们有理由认为这一决定，是出于政治目的”</p>
<p>不过，紧张中也有松弛。</p>
<p>那年7月，俄罗斯与乌克兰交换了双方被扣人员，普京说：“这可以视为两国关系正常化的一个步骤。”</p>
<p><img src="https://s2.loli.net/2022/06/27/dcHyurwC4B5WO8k.png" /></p>
<p>如果赵本山的小品《昨天 今天
明年》是在2019登上春晚，那我想关于这一块他或许会说：</p>
<p>“国外比较乱套，成天勾心斗角；今天委内瑞拉脱欧，明天奥国首相被炒；闹完贸易战争，又要弹劾领导；纵观世界风云，风景这边独好。”</p>
<p><img src="https://s2.loli.net/2022/06/27/HTR38SXMzGUF6Vy.png" /></p>
<p>“电话门”让特朗普在2019年成为美国第三位被弹劾的总统</p>
<p><strong>然而，彼时这些宏大风云与隐晦征兆，在我们看来或许更像是模糊的时代噪音。</strong></p>
<p>随着2019年的天气变暖，人们的内心也开始逐渐回温。</p>
<p>太阳照常升起，我们依旧期待时代的夜晚。</p>
<p>2</p>
<p>重逢的年代，告别的年代</p>
<p>有人说：“2019年，我度过了人生中最浪漫的一个夏天。”</p>
<p>蒸汽波、City
Pop、低保真，日本泡沫经济时代的审美财富，随着中国人均GDP突破一万美元大关，突然在这一年回潮。</p>
<p><img src="https://s2.loli.net/2022/06/27/ZbQSIFO3grEmo19.gif" /></p>
<p>“中 国 人 民 真 蒸 汽” 来自B站UP主@鹿堯River</p>
<p><img src="https://s2.loli.net/2022/06/27/j4ICA3Xw5dNlUFR.gif" /></p>
<p>2019年,宝石GEM的《野狼Disco》横空出世，重工业港风和蒜味蒸汽波随着全民短视频热，把东北文艺复兴推向高潮。</p>
<p>社会镜头也忽然重新关注起后工业时代的乡村与城镇，药厂、下班、失落的商场和学校被冠以土法炼钢的缅怀与幽默，中原青年们说要掀起一场华北浪漫革命。</p>
<p><img src="https://s2.loli.net/2022/06/27/iHDcxvnuNye5FdJ.png" /></p>
<p>《平原上的夏洛克》（2019）</p>
<p><strong>90后所经历的时代开始被浪漫化，属于80后的罗曼蒂克也开始限时返场。</strong></p>
<p>第六代文艺片导演们，在2019年的夏天到来前集中回到大银幕，把过往时代的伤痕凝结成了精致的文化糖霜。</p>
<p><img src="https://s2.loli.net/2022/06/27/kGXFA5roWcteRO2.png" /></p>
<p>《地久天长》（2019）</p>
<p><img src="https://s2.loli.net/2022/06/27/kGXFA5roWcteRO2.png" /></p>
<p><strong>曾经的理想主义代言人们，也在2019年频繁亮相。</strong></p>
<p>像韩寒就拍出了《飞驰人生》，沈腾一脚油门带着中年人的青春飞跃巴音布鲁克的海洋。</p>
<p><img src="https://s2.loli.net/2022/06/27/QfMhOypBqrPUugE.png" /></p>
<p>·《飞驰人生》2019</p>
<p>当然，也有理想主义者在2019年黯然离场。</p>
<p>2019年，罗永浩正式与锤子科技剥离，老罗欠下了银行、合作伙伴和供应商6个亿。</p>
<p><img src="https://s2.loli.net/2022/06/27/qEnP1ar2W6dzBbH.png" /></p>
<p>同年，一个叫李佳琦的年轻人靠直播带货赚到了第1个亿，“Oh my
God，买它！”宣告着社交电商已经成为理想主义者的后半场。</p>
<p><img src="https://s2.loli.net/2022/06/27/fkAuC4FB2adeE7N.png" /></p>
<h3 id="年是重逢的一年"><strong>2019年，是重逢的一年。</strong></h3>
<p>解散十多年的Joyside乐队和达达乐队先后宣布重组。</p>
<p><img src="https://s2.loli.net/2022/06/27/FZWHKk1gzpUSiJ4.jpg" /></p>
<p>更令人高兴的是，2019年夏天还有一档叫《乐队的夏天》的节目。</p>
<p><img src="https://s2.loli.net/2022/06/27/FEDyeXv49a3cWuQ.png" /></p>
<p>在主流视野外游荡多年的中国摇滚乐，终于等到了一次成功的商业化尝试。</p>
<p>弥留在94红磡遗梦里的摇滚青年们感叹：“中国摇滚乐终于要出圈了！”没有理想的人们或许从此以后不用再伤心了。</p>
<p><img src="https://s2.loli.net/2022/06/27/3EvQCLXwc27ZS4D.png" /></p>
<p>然而，不止摇滚乐，所有在那个夏天里跳舞、饮酒，在现场吹着晚风，拥抱朋友的音乐爱好者们当时大概都没料到——<strong>2019年是时间留给他们的最后窗口了</strong>。</p>
<p><img src="https://s2.loli.net/2022/06/27/8CYMXkKaf1Wp3wx.png" /></p>
<h3 id="年也是告别的一年"><strong>2019年，也是告别的一年。</strong></h3>
<p>漫威宇宙第一纪元在这一年迎来终结，超级英雄们在“<strong>我爱你三千遍</strong>”的口号中下岗再就业。</p>
<p>电影院外如同过年一样的人潮，似乎已经剧透了灭霸响指的失效。</p>
<p><img src="https://s2.loli.net/2022/06/27/NYRZ3wJLzTEmpKX.png" /></p>
<p>当然有些告别就明显少了几分诚意与体面，比如《权力的游戏》。</p>
<p>一个壮阔的故事草草收场，<strong>似乎给21世纪10年代的“终局”开了个坏头儿</strong>。</p>
<p><img src="https://s2.loli.net/2022/06/27/zZ9xNhuyHbeg8kX.png" /></p>
<h3
id="这一年很多熟悉的人离开了这个世界">这一年，很多熟悉的人离开了这个世界。</h3>
<p>“糖丸爷爷”顾方舟、“中国氢弹之父”于敏、散文作家林清玄、建筑大师贝聿铭，演员高以翔、崔雪莉、具荷拉......</p>
<h4
id="他们每个人的离去都带走了我们过往生命中的一部分记忆">他们每个人的离去，都带走了我们过往生命中的一部分记忆。</h4>
<p>日本声优有本钦隆也在这一年辞世，《海贼王》里由他配音的白胡子在退场的时候说</p>
<p><img src="https://s2.loli.net/2022/06/27/kXNnpIgazEKrc4d.gif" /></p>
<p><strong>这一年，还有很多漂亮的故事成了梦幻泡影。</strong></p>
<p>李晨和范冰冰、文章和马伊琍、贾乃亮和李小璐、郑爽和张恒……分手的分手，离婚的离婚，每天打开微博都会有人“<strong>再也不相信爱情了</strong>”。</p>
<p>出轨风云的吴秀波、学术造假的翟天临，从此以后人设塌房和吃瓜反转成了当代赛博生活的调味剂。</p>
<p>而在屏幕之外的广阔天地里，有470万对夫妻选择在这一年结束了他们的婚姻关系，结婚人数则创下了十年新低。</p>
<p><img src="https://s2.loli.net/2022/06/27/x1SFKqB9Lv6wkdC.png" /></p>
<p>2019年，第一批90后即将迈入30岁。</p>
<p>然而他们发现，他们没能拥有一个而立的时代。</p>
<p>758万高校毕业生走出象牙塔，他们成了10年代最后一批能自由进行毕业旅行的年轻人。</p>
<p>在毕业前夕，他们也第一次听到Jack Ma提及“996是福报”，第一次听Richard
Liu说“混日子的人不是我的兄弟”。</p>
<p>相比第二年未经心理按摩就被投入“<strong>内卷</strong>”大潮中的874万学妹学弟，不知他们是幸运的还是不幸的。</p>
<p><img src="https://s2.loli.net/2022/06/27/yYplJ9Kx216hOVa.png" /></p>
<p>2019年的最后一个月，大学生在想着offer和简历，上班族已经开始计算春运抢票的日期。</p>
<p>面对即将到来的2020，他们都写下了自己对一年的祝愿和期许。</p>
<p><strong>有些关于生活和爱情，有些关于穿越世界的旅行。</strong></p>
<p><img src="https://s2.loli.net/2022/06/27/PTUqXudN5f9S7FG.jpg" /></p>
<p>12月30日晚，网络上忽然蹦出一个在当时看来不太起眼的热搜：</p>
<h3 id="武汉发现不明原因肺炎">#武汉发现不明原因肺炎</h3>
]]></content>
      <categories>
        <category>随想</category>
      </categories>
      <tags>
        <tag>回忆</tag>
        <tag>疫情</tag>
      </tags>
  </entry>
  <entry>
    <title>数论1</title>
    <url>/2022/05/21/%E6%95%B0%E8%AE%BA1/</url>
    <content><![CDATA[<h1 id="数论1">数论1</h1>
<h3 id="质数">质数</h3>
<p>定义：针对大于一的整数，如果只包含1和他本身这两个约数，就被称为质数(素数)</p>
<h4 id="质数的判定试除法">质数的判定：试除法</h4>
<p><span class="math inline">\(O(\sqrt{n})\)</span></p>
<p>循环判断时写成<span class="math inline">\(i \le \frac n
i\)</span>较好</p>
<h4 id="分解质因数试除法">分解质因数：试除法</h4>
<p><span class="math inline">\(O(\sqrt{n})\)</span></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> num<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t<span class="op">--)</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>num<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>num<span class="op">));</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            <span class="co">//  每一个合数都可以用比它小的质数表示</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> s <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span><span class="op">(</span>n <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span><span class="op">)</span>   <span class="co">//  所以第一次找到的一定是一个质数</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>                n <span class="op">/=</span> i<span class="op">;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>                s <span class="op">++</span> <span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">)</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st"> </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">,</span> s<span class="op">);</span> <span class="co">// i一定是质数，s为其出现的次数</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>n <span class="op">&gt;</span> <span class="dv">1</span><span class="op">)</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st"> 1</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">,</span> n<span class="op">);</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 优化利用性质：n中最多只有一个大于sqrt(n)的质因子</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 如果还有数那么一定只有这一个未被除过的，直接输出就好</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="质数筛">质数筛</h4>
<p><span class="math inline">\(O(n\cdot log(logn))\)</span></p>
<p>埃式线性筛</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> primes<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> cnt<span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(!</span>st<span class="op">[</span>i<span class="op">])</span> primes<span class="op">[</span>cnt <span class="op">++</span> <span class="op">]</span> <span class="op">=</span> i<span class="op">;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> primes<span class="op">[</span>j<span class="op">]</span> <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>            st<span class="op">[</span>primes<span class="op">[</span>j<span class="op">]</span> <span class="op">*</span> i<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>  <span class="co">//  标记该质数的倍数都是合数</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>i <span class="op">%</span> primes<span class="op">[</span>j<span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">break</span><span class="op">;</span>  <span class="co">// prime[j]一定是i的最小质因子</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> cnt<span class="op">);</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="约数">约数</h3>
<h4 id="求所有约数试除法">求所有约数:试除法</h4>
<div class="sourceCode" id="cb3"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot; </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cmath&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;map&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;queue&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stack&gt;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl<span class="op">;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">double</span> esp <span class="op">=</span> <span class="fl">1e-6</span><span class="op">;</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> res<span class="op">;</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t<span class="op">--)</span> <span class="op">&#123;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        res<span class="op">.</span>clear<span class="op">();</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>n <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>                res<span class="op">.</span>push_back<span class="op">(</span>i<span class="op">);</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span><span class="op">(</span>i <span class="op">!=</span> n <span class="op">/</span> i<span class="op">)</span>  res<span class="op">.</span>push_back<span class="op">(</span>n <span class="op">/</span> i<span class="op">);</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>        sort<span class="op">(</span>res<span class="op">.</span>begin<span class="op">(),</span> res<span class="op">.</span>end<span class="op">());</span> <span class="co">//  排序保证输出的是有序的</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span> x<span class="op">:</span>res<span class="op">)</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>            printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st"> &quot;</span><span class="op">,</span> x<span class="op">);</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="约数个数">约数个数</h4>
<p>如果 <span class="math inline">\(N=p_{1}^{\alpha_{1}}\cdot
p_{2}^{\alpha_{2}} \cdots p_{k}^{\alpha_{k}}\)</span> p为质数</p>
<p>则约数个数为 <span class="math inline">\((\alpha_{1} + 1)(\alpha_{2}
+ 1)\cdots(\alpha_{k} + 1)\)</span> 本质上是利用了乘法原理</p>
<p>其中所有约数对应了任一个质数可以选择 <span
class="math inline">\(0\thicksim \alpha\)</span> 次的幂的情况</p>
<p>int范围内约数个数最多的大约有1500个</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">//const double esp = 1e-6;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    map<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> primes<span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t<span class="op">--)</span> <span class="op">&#123;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> <span class="op">(</span>n <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>                n <span class="op">/=</span> i<span class="op">;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>                primes<span class="op">[</span>i<span class="op">]</span> <span class="op">++</span> <span class="op">;</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>n <span class="op">&gt;</span> <span class="dv">1</span><span class="op">)</span> primes<span class="op">[</span>n<span class="op">]</span> <span class="op">++</span> <span class="op">;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    LL res <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span> prime <span class="op">:</span> primes<span class="op">)</span>  res <span class="op">=</span> res <span class="op">*</span> <span class="op">(</span>prime<span class="op">.</span>second <span class="op">+</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%lld\n</span><span class="st">&quot;</span><span class="op">,</span> res<span class="op">);</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="约数之和">约数之和</h4>
<p>如果 <span class="math inline">\(N=p_{1}^{\alpha_{1}}\cdot
p_{2}^{\alpha_{2}} \cdots p_{k}^{\alpha_{k}}\)</span></p>
<p>则约数个数为:</p>
<p><span class="math display">\[(p_{1}^{0} + p_{1}^{1} + \cdots +
p_{1}^{\alpha_{1}})\cdot (p_{2}^{0} + p_{2}^{1} + \cdots +
p_{2}^{\alpha_{2}})\cdot\cdots \cdot (p_{k}^{0} + p_{k}^{1} + \cdots +
p_{k}^{\alpha_{k}})\]</span></p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double esp = 1e-6;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>map<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> primes<span class="op">;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t <span class="op">--</span> <span class="op">)</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> i <span class="op">++)</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> <span class="op">(</span>n <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                primes<span class="op">[</span>i<span class="op">]</span> <span class="op">++</span> <span class="op">;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>                n <span class="op">/=</span> i<span class="op">;</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>n <span class="op">&gt;</span> <span class="dv">1</span><span class="op">)</span>  primes<span class="op">[</span>n<span class="op">]</span> <span class="op">++</span> <span class="op">;</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    LL res <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="kw">auto</span> p <span class="op">:</span> primes<span class="op">)</span>  <span class="co">// 按照求和的公式进行计算</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>        LL a <span class="op">=</span> p<span class="op">.</span>first<span class="op">,</span> b <span class="op">=</span> p<span class="op">.</span>second<span class="op">;</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>        <span class="co">//  a是底数，b是指数</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>        LL t <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span> <span class="op">(</span>b <span class="op">--</span> <span class="op">)</span> t <span class="op">=</span> <span class="op">(</span>t <span class="op">*</span> a <span class="op">+</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>        <span class="co">//  利用秦九韶算法, 每次乘以加一---复杂度O(n)</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>        res <span class="op">=</span> res <span class="op">*</span> t <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> res <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="最大公约数">最大公约数</h4>
<p>欧几里得算法(辗转相除法)</p>
<p>时间复杂度：<span class="math inline">\(O(logn)\)</span></p>
<p>核心原理：<span class="math inline">\(gcd(a, b)=gcd(b,a \%
b)\)</span></p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> gcd<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> b <span class="op">?</span> gcd<span class="op">(</span>b<span class="op">,</span> a <span class="op">%</span> b<span class="op">)</span> <span class="op">:</span> a<span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="欧拉函数">欧拉函数</h3>
<p><span class="math inline">\(\varphi(n)\)</span>指<span
class="math inline">\(1\sim n\)</span>中与<span
class="math inline">\(n\)</span>互质的数的个数</p>
<p>当 <span class="math inline">\(N=p_{1}^{\alpha_{1}}\cdot
p_{2}^{\alpha_{2}} \cdots p_{k}^{\alpha_{k}}\)</span></p>
<p>则有</p>
<p><span class="math display">\[\begin{align}
\varphi(n) &amp; = N\cdot(1 - \frac{1}{p_{1}})\cdot (1 -
\frac{1}{p_{2}}) \cdots (1 - \frac{1}{p_{k}}) \\
&amp; = N\cdot(\frac{p_{1} - 1}{p_{1}})\cdot (\frac{p_{2} - 1}{p_{2}})
\cdots (\frac{p_{k} - 1}{p_{k}})
\end{align}\]</span></p>
<p>可利用容斥原理进行证明</p>
<p>时间复杂度：<span class="math inline">\(O(\sqrt {n})\)</span>
由分解质因数决定</p>
<h4 id="分解法">分解法</h4>
<div class="sourceCode" id="cb7"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">//const int N = 1e6 + 5, mod = 1e9 + 7;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double esp = 1e-6;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> Eular<span class="op">(</span><span class="dt">int</span> a<span class="op">)&#123;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> res <span class="op">=</span> a<span class="op">;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span>  i <span class="op">&lt;=</span> a <span class="op">/</span> i<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>a <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>            res <span class="op">=</span> res <span class="op">/</span> i <span class="op">*</span> <span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">while</span> <span class="op">(</span>a <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> a <span class="op">/=</span> i<span class="op">;</span> </span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>a <span class="op">&gt;</span> <span class="dv">1</span><span class="op">)</span>  res <span class="op">=</span> res <span class="op">/</span> a <span class="op">*</span> <span class="op">(</span>a <span class="op">-</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t <span class="op">--</span> <span class="op">)</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">;</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a<span class="op">;</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> Eular<span class="op">(</span>a<span class="op">));</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="线性筛法">线性筛法</h4>
<div class="sourceCode" id="cb8"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> primes<span class="op">[</span>N<span class="op">],</span> cnt<span class="op">;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> phi<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> get_eulers<span class="op">(</span><span class="dt">int</span> n<span class="op">)</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    phi<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>st<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>            primes<span class="op">[</span>cnt <span class="op">++</span> <span class="op">]</span> <span class="op">=</span> i<span class="op">;</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>            phi<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> i <span class="op">-</span> <span class="dv">1</span><span class="op">;</span>  <span class="co">//  i是质数</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> primes<span class="op">[</span>j<span class="op">]</span> <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>            st<span class="op">[</span>primes<span class="op">[</span>j<span class="op">]</span> <span class="op">*</span> i<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>i <span class="op">%</span> primes<span class="op">[</span>j<span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>                phi<span class="op">[</span>primes<span class="op">[</span>j<span class="op">]</span> <span class="op">*</span> i<span class="op">]</span> <span class="op">=</span> phi<span class="op">[</span>i<span class="op">]</span> <span class="op">*</span> primes<span class="op">[</span>j<span class="op">];</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>                <span class="cf">break</span><span class="op">;</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>            phi<span class="op">[</span>primes<span class="op">[</span>j<span class="op">]</span> <span class="op">*</span> i<span class="op">]</span> <span class="op">=</span> phi<span class="op">[</span>i<span class="op">]</span> <span class="op">*</span> <span class="op">(</span>primes<span class="op">[</span>j<span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    get_eulers<span class="op">(</span>n<span class="op">);</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    LL res <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>        res <span class="op">+=</span> phi<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> res <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="快速幂">快速幂</h3>
<h4 id="模板">模板</h4>
<p>求<span class="math inline">\(a^{k}\%p\)</span></p>
<p>优化原理：将指数用二进制预处理</p>
<p>复杂度<span class="math inline">\(O(logn)\)</span></p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>LL q_pow<span class="op">(</span>LL a<span class="op">,</span> LL k<span class="op">,</span> LL mod<span class="op">)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    LL res <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>k<span class="op">)</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>k<span class="op">&amp;</span><span class="dv">1</span><span class="op">)</span>  res <span class="op">=</span> res <span class="op">*</span> a <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        a <span class="op">=</span> a <span class="op">*</span> a <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        k <span class="op">&gt;&gt;=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="快速幂求乘法逆元">快速幂求乘法逆元</h4>
<p>乘法逆元的定义</p>
<blockquote>
<p>若整数 <span class="math inline">\(b\)</span>，<span
class="math inline">\(m\)</span>互质，并且对于任意的整数 <span
class="math inline">\(a\)</span>，如果满足 <span
class="math inline">\(b|a\)</span>，则存在一个整数 <span
class="math inline">\(x\)</span>，使得<span
class="math inline">\(a/b≡a×x(modm)\)</span>，则称 <span
class="math inline">\(x\)</span> 为 <span
class="math inline">\(b\)</span> 的模 <span
class="math inline">\(m\)</span> 乘法逆元，记为 <span
class="math inline">\(b^{−1}(modm)\)</span> <span
class="math inline">\(b\)</span> 存在乘法逆元的充要条件是 <span
class="math inline">\(b\)</span> 与模数 <span
class="math inline">\(m\)</span> 互质。当模数 <span
class="math inline">\(m\)</span> 为质数时，<span
class="math inline">\(b^{m−2}\)</span> 即为 <span
class="math inline">\(b\)</span> 的乘法逆元</p>
</blockquote>
<p>那么等价于求<span class="math inline">\(b^{m−2}\)</span></p>
<p>用快速幂<code>q_pow(b, m - 2, m)</code>即可</p>
<p>注意：当 <span class="math inline">\(b\%p==0\)</span> 时无解</p>
<h3 id="扩展欧几里得算法">扩展欧几里得算法</h3>
<h4 id="裴蜀定理">裴蜀定理</h4>
<blockquote>
<p>对于任意正整数<span
class="math inline">\(a,b\)</span>，一定存在非零整数<span
class="math inline">\(x,y\)</span>，使得 <span
class="math inline">\(ax+by=gcd(a,b)\)</span></p>
</blockquote>
<p>请求出一组 <span class="math inline">\(x, y\)</span> 满足 <span
class="math inline">\(ax + by = gcd(a, b)\)</span></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> exgcd<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> <span class="op">&amp;</span>x<span class="op">,</span> <span class="dt">int</span> <span class="op">&amp;</span>y<span class="op">)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(!</span>b<span class="op">)</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> d <span class="op">=</span> exgcd<span class="op">(</span>b<span class="op">,</span> a <span class="op">%</span> b<span class="op">,</span> y<span class="op">,</span> x<span class="op">);</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    y <span class="op">-=</span> a <span class="op">/</span> b <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> d<span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="解线性同余方程组">解线性同余方程组</h4>
<p><span class="math inline">\(a_i×x_i≡b_i(mod\ m_i)\)</span></p>
<p>求出一个满足上式的<span class="math inline">\(x_i\)</span></p>
<p>上式等价于<span class="math inline">\(a∗x+m∗y=b\)</span></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">//const int N = 1e6 + 5, mod = 1e9 + 7;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double esp = 1e-6;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> exgcd<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> <span class="op">&amp;</span>x<span class="op">,</span> <span class="dt">int</span> <span class="op">&amp;</span>y<span class="op">)</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(!</span>b<span class="op">)</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a<span class="op">;</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span>    </span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> d <span class="op">=</span> exgcd<span class="op">(</span>b<span class="op">,</span> a <span class="op">%</span> b<span class="op">,</span> y<span class="op">,</span> x<span class="op">);</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    y <span class="op">-=</span> a <span class="op">/</span> b <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> d<span class="op">;</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t<span class="op">--)</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> m<span class="op">,</span> x<span class="op">,</span> y<span class="op">;</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> d <span class="op">=</span> exgcd<span class="op">(</span>a<span class="op">,</span> m<span class="op">,</span> x<span class="op">,</span> y<span class="op">);</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>b <span class="op">%</span> d<span class="op">)</span> printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>x <span class="op">*</span> b <span class="op">/</span> d <span class="op">%</span> m<span class="op">;</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>            cout <span class="op">&lt;&lt;</span> x <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="求逆元">求逆元</h4>
<p>逆元<span class="math inline">\(x\)</span>为满足<span
class="math inline">\(a*x≡1(mod\ p)\)</span></p>
<p>等价于$a * x + k * p = 1 $</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">//const int N = 1e6 + 5, mod = 1e9 + 7;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double esp = 1e-6;</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>LL exgcd<span class="op">(</span>LL a<span class="op">,</span> LL b<span class="op">,</span> LL <span class="op">&amp;</span>x<span class="op">,</span> LL <span class="op">&amp;</span>y<span class="op">)</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(!</span>b<span class="op">)</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a<span class="op">;</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span>    </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> d <span class="op">=</span> exgcd<span class="op">(</span>b<span class="op">,</span> a <span class="op">%</span> b<span class="op">,</span> y<span class="op">,</span> x<span class="op">);</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    y <span class="op">-=</span> a <span class="op">/</span> b <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> d<span class="op">;</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    LL t<span class="op">;</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>t<span class="op">--)</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>        LL a<span class="op">,</span> p<span class="op">,</span> x<span class="op">,</span> y<span class="op">;</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> p<span class="op">;</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>        LL d <span class="op">=</span> exgcd<span class="op">(</span>a<span class="op">,</span> p<span class="op">,</span> x<span class="op">,</span> y<span class="op">);</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>d <span class="op">!=</span> <span class="dv">1</span><span class="op">)</span> printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>            cout <span class="op">&lt;&lt;</span> <span class="op">(</span>x <span class="op">+</span> p<span class="op">)</span> <span class="op">%</span> p <span class="op">&lt;&lt;</span> endl<span class="op">;</span> <span class="co">// 防止出现负数</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="线性求逆元">线性求逆元</h3>
<p>通过递推式来求</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">3e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>LL inv<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    LL n<span class="op">,</span> mod<span class="op">;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> mod<span class="op">;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    inv<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>        inv<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>mod <span class="op">-</span> mod <span class="op">/</span> i<span class="op">)</span> <span class="op">*</span> inv<span class="op">[</span>mod <span class="op">%</span> i<span class="op">]</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%ld\n</span><span class="st">&quot;</span><span class="op">,</span> inv<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>数学</tag>
        <tag>数论</tag>
      </tags>
  </entry>
  <entry>
    <title>数论2</title>
    <url>/2022/05/21/%E6%95%B0%E8%AE%BA2/</url>
    <content><![CDATA[<h2 id="数论2">数论2</h2>
<hr />
<h3 id="中国剩余定理">中国剩余定理</h3>
<p><span class="math display">\[
\left\{\begin{array}{l}
x \equiv a_{1}\left(\bmod m_{1}\right) \\
x \equiv a_{2}\left(\bmod m_{2}\right) \\
\cdots \\
x \equiv a_{n}\left(\bmod m_{n}\right)
\end{array}\right.
\]</span></p>
<p>则求 <span class="math inline">\(N=\prod_{i=1}^{n} m_{i}\)</span></p>
<p>得到这个数为</p>
<p><span class="math display">\[
x \equiv \sum_{i=1}^{n} a_{i} \times \frac{N}{m_{i}}
\times\left[\left(\frac{N}{m_{i}}\right)^{-1}\right]_{m_{i}} \quad(\bmod
N)
\]</span></p>
<p>c++解法</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode c++"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double eps = 1e-6;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">//int dx[] = &#123;1, 0, -1, 0&#125;, dy[] = &#123;0, -1, 0, 1&#125;;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">// int dx[8] = &#123;-1, -1, -1, 0, 1, 1, 1, 0&#125;;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">// int dy[8] = &#123;-1, 0, 1, 1, 1, 0, -1, -1&#125;;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>LL exgcd<span class="op">(</span>LL a<span class="op">,</span> LL b<span class="op">,</span> LL <span class="op">&amp;</span>x<span class="op">,</span> LL <span class="op">&amp;</span>y<span class="op">)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>b <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a<span class="op">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    LL  d <span class="op">=</span> exgcd<span class="op">(</span>b<span class="op">,</span> a <span class="op">%</span> b<span class="op">,</span> y<span class="op">,</span> x<span class="op">);</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    y <span class="op">-=</span> a <span class="op">/</span> b <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> d<span class="op">;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>LL <span class="kw">inline</span> mod<span class="op">(</span>LL a<span class="op">,</span> LL b<span class="op">)</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="op">((</span>a <span class="op">%</span> b<span class="op">)</span> <span class="op">+</span> b<span class="op">)</span> <span class="op">%</span> b<span class="op">;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    LL a1<span class="op">,</span> m1<span class="op">;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> a1 <span class="op">&gt;&gt;</span> m1<span class="op">;</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>        LL a2<span class="op">,</span> m2<span class="op">,</span> k1<span class="op">,</span> k2<span class="op">;</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a2 <span class="op">&gt;&gt;</span> m2<span class="op">;</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>        LL d <span class="op">=</span> exgcd<span class="op">(</span>a1<span class="op">,</span> <span class="op">-</span>a2<span class="op">,</span> k1<span class="op">,</span> k2<span class="op">);</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">((</span>m2 <span class="op">-</span> m1<span class="op">)</span> <span class="op">%</span> d<span class="op">)</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>            puts<span class="op">(</span><span class="st">&quot;-1&quot;</span><span class="op">);</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>        k1 <span class="op">=</span> mod<span class="op">(</span>k1 <span class="op">*</span> <span class="op">(</span>m2 <span class="op">-</span> m1<span class="op">)</span> <span class="op">/</span> d<span class="op">,</span> abs<span class="op">(</span>a2 <span class="op">/</span> d<span class="op">));</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>        m1 <span class="op">=</span> k1 <span class="op">*</span> a1 <span class="op">+</span> m1<span class="op">;</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>        a1 <span class="op">=</span> abs<span class="op">(</span>a1 <span class="op">/</span> d <span class="op">*</span> a2<span class="op">);</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> m1<span class="op">;</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<p>python解法</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> exgcd(a,b,x,y):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> b:</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        x,y <span class="op">=</span> <span class="dv">1</span>,<span class="dv">0</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> a,x,y</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    d,x,y <span class="op">=</span> exgcd(b, a <span class="op">%</span> b, y, x)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> y</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> x <span class="op">-</span> a <span class="op">//</span> b <span class="op">*</span> y</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> temp</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> d,x,y</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    a1,m1 <span class="op">=</span> <span class="bu">map</span>(<span class="bu">int</span>,<span class="bu">input</span>().split())</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n<span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        a2,m2 <span class="op">=</span> <span class="bu">map</span>(<span class="bu">int</span>,<span class="bu">input</span>().split())</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        k1,k2 <span class="op">=</span> <span class="dv">0</span>,<span class="dv">0</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        d,k1,k2 <span class="op">=</span> exgcd(a1,a2,k1,k2)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (m2<span class="op">-</span>m1) <span class="op">%</span> d:</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>            exit()</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        k1 <span class="op">*=</span> (m2<span class="op">-</span>m1) <span class="op">//</span> d</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>        t <span class="op">=</span> a2 <span class="op">//</span> d</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        k1 <span class="op">=</span> k1 <span class="op">%</span> t</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>        m1 <span class="op">=</span> a1 <span class="op">*</span> k1 <span class="op">+</span> m1</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>        a1 <span class="op">=</span> <span class="bu">abs</span>(a1 <span class="op">//</span> d <span class="op">*</span> a2)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(m1 <span class="op">%</span> a1)</span></code></pre></div>
<h3 id="求组合数">求组合数</h3>
<h4 id="求-cb_a递推">Ⅰ求 <span
class="math inline">\(C^b_a\)</span>(递推)</h4>
<p>a, b范围是2000，询问<span class="math inline">\(10^5\)</span>次</p>
<p><span class="math inline">\(C^b_a = C^b_{a - 1} + C^{b - 1}_{a -
1}\)</span></p>
<p>通过递推进行处理</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">2010</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> c<span class="op">[</span>N<span class="op">][</span>N<span class="op">];</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> init<span class="op">()</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> N<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;=</span> i<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(!</span>j<span class="op">)</span>  c<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span> c<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>c<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">][</span>j<span class="op">]</span> <span class="op">+</span> c<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">][</span>j <span class="op">-</span> <span class="dv">1</span><span class="op">])</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    init<span class="op">();</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    scanf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">&amp;</span>n<span class="op">);</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>n <span class="op">--</span> <span class="op">)</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        scanf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d%d</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">&amp;</span>a<span class="op">,</span> <span class="op">&amp;</span>b<span class="op">);</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> c<span class="op">[</span>a<span class="op">][</span>b<span class="op">]);</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="求-cb_a-预处理逆元">Ⅱ求 <span
class="math inline">\(C^b_a\)</span> (预处理逆元)</h4>
<p>a, b范围是 <span class="math inline">\(10^5\)</span>，询问<span
class="math inline">\(10^4\)</span>次</p>
<p>预处理出来阶乘和阶乘的逆元，利用该公式进行计算即可</p>
<p><span class="math inline">\(C^b_a = \frac{a!}{b!(a - b)!}=
a!*b!^{-1}*(a - b)!^{-1}\)</span></p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e5</span> <span class="op">+</span> <span class="dv">10</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> fact<span class="op">[</span>N<span class="op">],</span> infact<span class="op">[</span>N<span class="op">];</span>  <span class="co">//  预处理的阶乘及逆元</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> q_pow<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> k<span class="op">,</span> <span class="dt">int</span> mod<span class="op">)</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> res <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>k<span class="op">)</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>k<span class="op">&amp;</span><span class="dv">1</span><span class="op">)</span>  res <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>res <span class="op">*</span> a <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        a <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>a <span class="op">*</span> a <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        k <span class="op">&gt;&gt;=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    fact<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> infact<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> N<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>        fact<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span> fact<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">*</span> i <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>        infact<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>infact<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">*</span> q_pow<span class="op">(</span>i<span class="op">,</span> mod <span class="op">-</span> <span class="dv">2</span><span class="op">,</span> mod<span class="op">)</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>n <span class="op">--</span> <span class="op">)</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b<span class="op">;</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>        cout <span class="op">&lt;&lt;</span> <span class="op">(</span>LL<span class="op">)</span>fact<span class="op">[</span>a<span class="op">]</span> <span class="op">*</span> infact<span class="op">[</span>b<span class="op">]</span> <span class="op">%</span> mod <span class="op">*</span> infact<span class="op">[</span>a <span class="op">-</span> b<span class="op">]</span> <span class="op">%</span> mod <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="求-cb_a-lucas定理">Ⅲ 求 <span
class="math inline">\(C^b_a\)</span> (Lucas定理)</h4>
<p>a, b范围是 <span class="math inline">\(10^{18}\)</span>，询问<span
class="math inline">\(20\)</span>次</p>
<p>利用Lucas定理 <span class="math display">\[
\left(\begin{array}{c}
n \\
m
\end{array}\right) \bmod p=\left(\begin{array}{c}
\lfloor n / p\rfloor \\
\lfloor m / p\rfloor
\end{array}\right) \cdot\left(\begin{array}{c}
n \bmod p \\
m \bmod p
\end{array}\right) \bmod p
\]</span> Lucas 定理用于求解大组合数取模的问题，其中模数必须为素数</p>
<p>其中<span class="math inline">\(C_{a}^{b}\)</span>的求法推导如下
<span class="math display">\[
\begin{aligned}
C_{a}^{b} &amp;= \frac{a !}{(a-b)!*b!}\\
&amp;=\frac{a*(a-1) *(a-2)* \ldots *(a-b+1)*(a-b)
*\ldots*1}{(a-b)*(a-b-1)* \ldots *1* b !} \\
&amp;=\frac{a*(a-1)*(a-2) * \ldots(a-b+1)}{b !}
\end{aligned}
\]</span></p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double eps = 1e-6;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">//int dx[] = &#123;1, 0, -1, 0&#125;, dy[] = &#123;0, -1, 0, 1&#125;;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">// int dx[8] = &#123;-1, -1, -1, 0, 1, 1, 1, 0&#125;;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">// int dy[8] = &#123;-1, 0, 1, 1, 1, 0, -1, -1&#125;;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> q_pow<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> k<span class="op">,</span> <span class="dt">int</span> p<span class="op">)</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> res <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>k<span class="op">)</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>k <span class="op">&amp;</span> <span class="dv">1</span><span class="op">)</span>  res <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>res <span class="op">*</span> a <span class="op">%</span> p<span class="op">;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        a <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>a <span class="op">*</span> a <span class="op">%</span> p<span class="op">;</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        k <span class="op">&gt;&gt;=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> C<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> p<span class="op">)</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>b <span class="op">&gt;</span> a<span class="op">)</span>  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> res <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> j <span class="op">=</span> a<span class="op">;</span> i <span class="op">&lt;=</span> b<span class="op">;</span> i <span class="op">++</span> <span class="op">,</span>j <span class="op">--</span> <span class="op">)</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>        res <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>res <span class="op">*</span> j <span class="op">%</span> p<span class="op">;</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>        res <span class="op">=</span> <span class="op">(</span>LL<span class="op">)</span>res <span class="op">*</span> q_pow<span class="op">(</span>i<span class="op">,</span> p <span class="op">-</span> <span class="dv">2</span><span class="op">,</span> p<span class="op">)</span> <span class="op">%</span> p<span class="op">;</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> lucas<span class="op">(</span>LL a<span class="op">,</span> LL b<span class="op">,</span> <span class="dt">int</span> p<span class="op">)</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>a <span class="op">&lt;</span> p <span class="op">&amp;&amp;</span> b <span class="op">&lt;</span> p<span class="op">)</span>  <span class="cf">return</span> C<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> p<span class="op">);</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">return</span> <span class="op">(</span>LL<span class="op">)</span>C<span class="op">(</span>a <span class="op">%</span> p<span class="op">,</span> b <span class="op">%</span> p<span class="op">,</span> p<span class="op">)</span> <span class="op">*</span> lucas<span class="op">(</span>a <span class="op">/</span> p<span class="op">,</span> b <span class="op">/</span> p<span class="op">,</span> p<span class="op">)</span> <span class="op">%</span> p<span class="op">;</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>n <span class="op">--</span> <span class="op">)</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>        LL a<span class="op">,</span> b<span class="op">;</span> </span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> p<span class="op">;</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> p<span class="op">;</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>        cout <span class="op">&lt;&lt;</span> lucas<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> p<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="求c_ab高精度">Ⅳ 求<span
class="math inline">\(C_a^b\)</span>(高精度)</h4>
<p>a, b的范围是5000，求1次，但是要求计算出来所以要用高精度</p>
<p>c++版本</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">5010</span><span class="op">;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> primes<span class="op">[</span>N<span class="op">],</span> cnt<span class="op">;</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> sum<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> get_primes<span class="op">(</span><span class="dt">int</span> n<span class="op">)</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(!</span>st<span class="op">[</span>i<span class="op">])</span>  primes<span class="op">[</span>cnt <span class="op">++</span> <span class="op">]</span> <span class="op">=</span> i<span class="op">;</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> primes<span class="op">[</span>j<span class="op">]</span> <span class="op">&lt;=</span> n <span class="op">/</span> i<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>            st<span class="op">[</span>primes<span class="op">[</span>j<span class="op">]</span> <span class="op">*</span> i<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>i <span class="op">%</span> primes<span class="op">[</span>j<span class="op">]</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">break</span><span class="op">;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> get<span class="op">(</span><span class="dt">int</span> n<span class="op">,</span> <span class="dt">int</span> p<span class="op">)</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> res <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span>n<span class="op">)&#123;</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>        res <span class="op">+=</span> n <span class="op">/</span> p<span class="op">;</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        n <span class="op">/=</span> p<span class="op">;</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> mul<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> c<span class="op">;</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> a<span class="op">.</span>size<span class="op">();</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>        t <span class="op">+=</span> a<span class="op">[</span>i<span class="op">]</span> <span class="op">*</span> b<span class="op">;</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>        c<span class="op">.</span>push_back<span class="op">(</span>t <span class="op">%</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>        t <span class="op">/=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>t<span class="op">)</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>        c<span class="op">.</span>push_back<span class="op">(</span>t <span class="op">%</span> <span class="dv">10</span><span class="op">);</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>        t <span class="op">/=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> c<span class="op">;</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> a<span class="op">,</span> b<span class="op">;</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b<span class="op">;</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    get_primes<span class="op">(</span>a<span class="op">);</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> cnt<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> p <span class="op">=</span> primes<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>        sum<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> get<span class="op">(</span>a<span class="op">,</span> p<span class="op">)</span> <span class="op">-</span> get<span class="op">(</span>a <span class="op">-</span> b<span class="op">,</span> p<span class="op">)</span> <span class="op">-</span> get<span class="op">(</span>b<span class="op">,</span> p<span class="op">);</span></span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> res<span class="op">;</span></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>    res<span class="op">.</span>push_back<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> cnt<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> sum<span class="op">[</span>i<span class="op">];</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>            res <span class="op">=</span> mul<span class="op">(</span>res<span class="op">,</span> primes<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> res<span class="op">.</span>size<span class="op">()</span> <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">--</span> <span class="op">)</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> res<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<p>python版本</p>
<p>利用定义，但是跑起来比c++略慢</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>a, b <span class="op">=</span> <span class="bu">map</span>(<span class="bu">int</span>, <span class="bu">input</span>().split())</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>up <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>down <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(a <span class="op">-</span> b <span class="op">+</span> <span class="dv">1</span>, a <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    up <span class="op">*=</span> i</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, b <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    down <span class="op">*=</span> i</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(up <span class="op">//</span> down)</span></code></pre></div>
<h4 id="卡特兰数">卡特兰数</h4>
<p>求满足条件的01序列</p>
<p>给定n个1，n个0，求它们能排列成的所有序列中，能够满足任意前缀序列中0的个数都不少于1的个数的序列有多少个</p>
<p>下图中，表示从<span class="math inline">\((0,0)\)</span>走到<span
class="math inline">\((n,n)\)</span>的路径，在绿线及以下表示合法，若触碰红线即不合法</p>
<p>结果： <span class="math display">\[
ans = C^{n}_{2n} - C^{n - 1}_{2n} = \frac{C^n_{2n}}{n+1}
\]</span> 求组合数和逆元即可，注意除以n+1时也要用逆元</p>
<figure>
<img
src="https://cdn.acwing.com/media/article/image/2020/02/22/6828_9476d97655-Catalan.png"
alt="img" />
<figcaption aria-hidden="true">img</figcaption>
</figure>
<div class="sourceCode" id="cb8"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>LL q_pow<span class="op">(</span>LL a<span class="op">,</span> LL k<span class="op">)</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    LL ret <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>k<span class="op">)</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>k<span class="op">&amp;</span><span class="dv">1</span><span class="op">)</span> ret <span class="op">=</span> ret <span class="op">*</span> a <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        a <span class="op">=</span> a <span class="op">*</span> a <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        k <span class="op">&gt;&gt;=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ret<span class="op">;</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    LL ans <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">// z</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> n<span class="op">;</span> i <span class="op">&gt;</span> n<span class="op">;</span> i <span class="op">--</span> <span class="op">)</span> ans <span class="op">=</span> ans <span class="op">*</span> i <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> n<span class="op">;</span> i <span class="op">&gt;</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">--</span> <span class="op">)</span>  ans <span class="op">=</span> ans <span class="op">*</span> q_pow<span class="op">(</span>i<span class="op">,</span> mod <span class="op">-</span> <span class="dv">2</span><span class="op">)</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    ans <span class="op">=</span> ans <span class="op">*</span> q_pow<span class="op">(</span>n <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> mod <span class="op">-</span> <span class="dv">2</span><span class="op">)</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> ans <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="斯特林数">斯特林数</h4>
<h4 id="错排问题">错排问题</h4>
<p>n封信，n个信封，求完全放错的方案数?</p>
<p>记方案数为f[n],可以递推来求</p>
<p>f[1] = 0, f[2] = 1</p>
<p>f[i] = (i-1) * (f[i-1] + f[i-2])</p>
<p>推导逻辑：</p>
<p>假设第一封信a占据了b的位置，那么此时b放在哪个信封分两种情况，b放在a位置，或b不放在a位置；</p>
<ul>
<li><p>第一类：第一种情况是放在a位置，此时b放在a位置，剩下n-2封信进行错排，方案数是f(n-2)</p></li>
<li><p>第二类：第二种情况是b没有去a的位置，那么b可能出现在除α之外的任何位置，b有n-2个位置可以去，不能去a,b位置，其余所有元素都有n-2个位置可以去（a，b位置不能去），这种情况下相当于除a之外的其它元素的错排问题，即n-1个元素的错排问题，方案数是f(n-1)</p></li>
<li><p>加法法则：汇总上述分类计数原理，使用加法法则，计算结果是f(n-1)+f(n-2)</p></li>
<li><p>乘法法则：对于每一封信都如此，当有n-1封信已经错排时，已经完全错排了</p>
<p>即f[i] = (i-1) * (f[i - 1] + f[i - 2])</p></li>
</ul>
<div class="sourceCode" id="cb9"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>LL f<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    f<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    f<span class="op">[</span><span class="dv">2</span><span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">3</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        f<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span>f<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> f<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]);</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> f<span class="op">[</span>n<span class="op">]</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="高斯消元">高斯消元</h3>
<h4 id="解线性方程组">解线性方程组</h4>
<p>高斯消元是一种可以可以将增广矩阵化成阶梯型矩阵的算法</p>
<p>适用于求解包含n个方程，n个未知数的多元线性方程组</p>
<p><span class="math display">\[\left\{\begin{array}{llll}
a_{11} x_{1}+ &amp; a_{12} x_{2}+\ldots+ &amp; a_{1 n} x_{n}= &amp;
b_{1} \\
a_{21} x_{1}+ &amp; a_{22} x_{2}+\ldots+ &amp; a_{2 n} x_{n}= &amp;
b_{2} \\
\vdots &amp; \vdots &amp; \vdots &amp; \vdots \\
a_{n 1} x_{1}+ &amp; a_{n 2} x_{2}+\ldots+ &amp; a_{n n} x_{n}= &amp;
b_{n}
\end{array}\right.\]</span></p>
<p>算法步骤：</p>
<ul>
<li>找到当前列绝对值最大的一行</li>
<li>将这一行移到最上面</li>
<li>乘以相应的系数将改行的第一个数变成1</li>
<li>相减相消让下面所有的行的当前列变成0</li>
</ul>
<p><span class="math display">\[\left(\begin{array}{ccccc}
a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1 n} &amp; b_{1} \\
a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2 n} &amp; b_{2} \\
\vdots &amp; \vdots &amp; \vdots &amp; \vdots &amp; \vdots \\
a_{n 1} &amp; a_{n 2} &amp; \cdots &amp; a_{n n} &amp; b_{n}
\end{array}\right) \rightarrow \left(\begin{array}{ccccc}
a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1 n} &amp; b_{1} \\
&amp; a_{2 i} &amp; a_{2(i+1)} &amp; a_{2 n} &amp; b_{2} \\
&amp; &amp; \ddots &amp; \vdots &amp; \vdots \\
&amp; &amp; &amp; a_{n n} &amp; b_{n}
\end{array}\right)\]</span></p>
<ul>
<li>最后再把阶梯型矩阵从下到上回代到第一层即可得到方程的解</li>
</ul>
<p>复杂度<span class="math inline">\(O(n^3)\)</span></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e3</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">double</span> eps <span class="op">=</span> <span class="fl">1e-6</span><span class="op">;</span>  <span class="co">// 用eps来判断是否为0</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">//int dx[] = &#123;1, 0, -1, 0&#125;, dy[] = &#123;0, -1, 0, 1&#125;;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> a<span class="op">[</span>N<span class="op">][</span>N<span class="op">];</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span>  gauss<span class="op">()</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> c<span class="op">,</span> r<span class="op">;</span>  <span class="co">// c代表列col, r代表行row</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>c <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> r <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> c <span class="op">&lt;</span> n<span class="op">;</span> c<span class="op">++)</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> t <span class="op">=</span> r<span class="op">;</span>  </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>        <span class="co">//  第一步，找到绝对值最大的数所在的行号</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> r<span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>fabs<span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>c<span class="op">])</span> <span class="op">&gt;</span> fabs<span class="op">(</span>a<span class="op">[</span>t<span class="op">][</span>c<span class="op">]))</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>                t <span class="op">=</span> i<span class="op">;</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>fabs<span class="op">(</span>a<span class="op">[</span>t<span class="op">][</span>c<span class="op">])</span> <span class="op">&lt;</span> eps<span class="op">)</span>  <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 如果绝对值最大的是0，那么这一行全是0</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> c<span class="op">;</span> i <span class="op">&lt;</span> n <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">++</span> <span class="op">)</span>  </span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>            swap<span class="op">(</span>a<span class="op">[</span>t<span class="op">][</span>i<span class="op">],</span> a<span class="op">[</span>r<span class="op">][</span>i<span class="op">]);</span>  </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 第二步，把当前这一行换到最上面</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> n<span class="op">;</span> i <span class="op">&gt;=</span> c<span class="op">;</span> i <span class="op">--</span> <span class="op">)</span>  </span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>            a<span class="op">[</span>r<span class="op">][</span>i<span class="op">]</span> <span class="op">/=</span> a<span class="op">[</span>r<span class="op">][</span>c<span class="op">];</span>  </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 第三步，把当前这一行的第一个数变成1，方程两边同时除以第一个系数</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>        <span class="co">// 必须要从后往前，不然第一个数会直接变为1，然后不修改其他系数</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> r <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>fabs<span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>c<span class="op">])</span> <span class="op">&gt;</span> eps<span class="op">)</span>  <span class="co">// 非零</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> n<span class="op">;</span> j <span class="op">&gt;=</span> c<span class="op">;</span> j <span class="op">--</span> <span class="op">)</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>                    a<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">-=</span> a<span class="op">[</span>r<span class="op">][</span>j<span class="op">]</span> <span class="op">*</span> a<span class="op">[</span>i<span class="op">][</span>c<span class="op">];</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>                    <span class="co">//  第四步，把第r+1行~n行的第c列元素都消除为0</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>                    <span class="co">//  用最上面一行和这行做差除去这一行</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>       r <span class="op">++</span> <span class="op">;</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>r <span class="op">&lt;</span> n<span class="op">)</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> r<span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>fabs<span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>n<span class="op">])</span> <span class="op">&gt;</span> eps<span class="op">)</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">// 无解</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span>  <span class="co">// 无数解</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> n <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">--</span> <span class="op">)</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>            a<span class="op">[</span>i<span class="op">][</span>n<span class="op">]</span> <span class="op">-=</span> a<span class="op">[</span>j<span class="op">][</span>n<span class="op">]</span> <span class="op">*</span> a<span class="op">[</span>i<span class="op">][</span>j<span class="op">];</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> n <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>            cin <span class="op">&gt;&gt;</span> a<span class="op">[</span>i<span class="op">][</span>j<span class="op">];</span></span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t <span class="op">=</span> gauss<span class="op">();</span></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>t <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>fabs<span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>n<span class="op">])</span> <span class="op">&lt;</span> eps<span class="op">)</span> puts<span class="op">(</span><span class="st">&quot;0.00&quot;</span><span class="op">);</span></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%.2lf\n</span><span class="st">&quot;</span><span class="op">,</span> a<span class="op">[</span>i<span class="op">][</span>n<span class="op">]);</span></span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>t <span class="op">==</span> <span class="dv">1</span><span class="op">)</span>  puts<span class="op">(</span><span class="st">&quot;Infinite group solutions&quot;</span><span class="op">);</span></span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> puts<span class="op">(</span><span class="st">&quot;No solution&quot;</span><span class="op">);</span></span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="高斯消元解异或方程组">高斯消元解异或方程组</h4>
<p>异或=&gt;不进位加法</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#pragma GCC diagnostic error &quot;-std=c++11&quot;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">110</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> a<span class="op">[</span>N<span class="op">][</span>N<span class="op">];</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> gauss<span class="op">()</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> c<span class="op">,</span> r<span class="op">;</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span>c <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> r <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> c <span class="op">&lt;</span> n<span class="op">;</span> c <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> t <span class="op">=</span> r<span class="op">;</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> r<span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>c<span class="op">])</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>                t <span class="op">=</span> i<span class="op">;</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(!</span>a<span class="op">[</span>t<span class="op">][</span>c<span class="op">])</span>  <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> c<span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>            swap<span class="op">(</span>a<span class="op">[</span>r<span class="op">][</span>i<span class="op">],</span> a<span class="op">[</span>t<span class="op">][</span>i<span class="op">]);</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> r <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>c<span class="op">])</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> n<span class="op">;</span> j <span class="op">&gt;=</span> c<span class="op">;</span> j <span class="op">--</span> <span class="op">)</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>                    a<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">^=</span> a<span class="op">[</span>r<span class="op">][</span>j<span class="op">];</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>        r <span class="op">++</span> <span class="op">;</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>r <span class="op">&lt;</span> n<span class="op">)</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> r<span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>a<span class="op">[</span>i<span class="op">][</span>n<span class="op">])</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> n <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">--</span> <span class="op">)</span></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>            a<span class="op">[</span>i<span class="op">][</span>n<span class="op">]</span> <span class="op">^=</span> a<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">*</span> a<span class="op">[</span>j<span class="op">][</span>n<span class="op">];</span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n<span class="op">;</span></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> n <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>            cin <span class="op">&gt;&gt;</span> a<span class="op">[</span>i<span class="op">][</span>j<span class="op">];</span></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t <span class="op">=</span> gauss<span class="op">();</span></span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>t <span class="op">==</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>            cout <span class="op">&lt;&lt;</span> a<span class="op">[</span>i<span class="op">][</span>n<span class="op">]</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span><span class="op">(</span>t <span class="op">==</span> <span class="dv">1</span><span class="op">)</span> puts<span class="op">(</span><span class="st">&quot;Multiple sets of solutions&quot;</span><span class="op">);</span></span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> puts<span class="op">(</span><span class="st">&quot;No solution&quot;</span><span class="op">);</span></span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>数学</tag>
        <tag>数论</tag>
      </tags>
  </entry>
  <entry>
    <title>最小生成树</title>
    <url>/2022/05/22/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
    <content><![CDATA[<h1 id="最小生成树">最小生成树</h1>
<hr />
<h3 id="prim算法">Prim算法</h3>
<h4 id="朴素prim算法">朴素Prim算法</h4>
<h4 id="on2"><span class="math inline">\(O(n^2)\)</span></h4>
<ol type="1">
<li>初始化dist[]数组为0x3f</li>
<li>枚举之后的每条边（枚举n次） 找到离集合最近的点t
用t更新其他点到集合的距离 st[t] = true</li>
</ol>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span>  <span class="dv">510</span><span class="op">,</span> INF <span class="op">=</span> <span class="bn">0x3f3f3f3f</span><span class="op">;</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">],</span> g<span class="op">[</span>N<span class="op">][</span>N<span class="op">];</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> prim<span class="op">()</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> res <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span>  <span class="co">//  与朴素版dijkstra一样更新n-1次</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> t <span class="op">=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(!</span>st<span class="op">[</span>j<span class="op">]</span> <span class="op">&amp;&amp;</span> <span class="op">(</span>t <span class="op">==</span> <span class="op">-</span><span class="dv">1</span> <span class="op">||</span> dist<span class="op">[</span>j<span class="op">]</span> <span class="op">&lt;</span> dist<span class="op">[</span>t<span class="op">]))</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>                t <span class="op">=</span> j<span class="op">;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        res <span class="op">+=</span> dist<span class="op">[</span>t<span class="op">];</span>  <span class="co">// 在这里更新结果</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>t<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>            dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dist<span class="op">[</span>j<span class="op">],</span> g<span class="op">[</span>t<span class="op">][</span>j<span class="op">]);</span>  <span class="co">// 注意这里的更新方式和dijkstra不一样</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>g<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>g<span class="op">));</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>m <span class="op">--</span> <span class="op">)</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> c<span class="op">;</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>        g<span class="op">[</span>a<span class="op">][</span>b<span class="op">]</span> <span class="op">=</span> g<span class="op">[</span>b<span class="op">][</span>a<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>g<span class="op">[</span>a<span class="op">][</span>b<span class="op">],</span> c<span class="op">);</span>  <span class="co">//  存储无向边</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t <span class="op">=</span> prim<span class="op">();</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>t <span class="op">&gt;</span> INF <span class="op">/</span> <span class="dv">2</span><span class="op">)</span>  printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span>   <span class="co">//  为了保险可以写成t &gt; INF / 2</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> t<span class="op">);</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<p>堆优化版(不常用)</p>
<h3 id="kruskal算法">Kruskal算法</h3>
<p><span class="math inline">\(O(m\cdot logm)\)</span></p>
<p>开一个结构体来存储所有的边</p>
<ol type="1">
<li><p>将所有边按边权进行排序 <span class="math inline">\(O(m\cdot
logm)\)</span></p></li>
<li><p>枚举每条边a，及其权重c <span
class="math inline">\(O(m)\)</span></p>
<p>if(a,b不连通)--并查集</p>
<p>将这条边加入集合中</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e5</span> <span class="op">+</span> <span class="dv">10</span><span class="op">,</span> M <span class="op">=</span> <span class="fl">1e5</span> <span class="op">+</span> <span class="dv">10</span><span class="op">,</span> INF <span class="op">=</span> <span class="bn">0x3f3f3f3f</span><span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> p<span class="op">[</span>N<span class="op">];</span>  <span class="co">// 并查集中用到的祖宗节点数组</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Edge</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> w<span class="op">;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">bool</span> <span class="kw">operator</span><span class="op">&lt;</span> <span class="op">(</span><span class="at">const</span> Edge <span class="op">&amp;</span> x<span class="op">)</span> <span class="at">const</span><span class="op">&#123;</span>   <span class="co">// 重载了小于号方便排序</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">//重载小于号是记得用const加这个结构体的名称</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> w <span class="op">&lt;</span> x<span class="op">.</span>w<span class="op">;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span>edge<span class="op">[</span>M<span class="op">];</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> find<span class="op">(</span><span class="dt">int</span> a<span class="op">)</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>p<span class="op">[</span>a<span class="op">]</span> <span class="op">!=</span> a<span class="op">)</span>  <span class="cf">return</span> p<span class="op">[</span>a<span class="op">]</span> <span class="op">=</span> find<span class="op">(</span>p<span class="op">[</span>a<span class="op">]);</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">return</span> a<span class="op">;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> kruskal<span class="op">()</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    sort<span class="op">(</span>edge <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> edge <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> m<span class="op">);</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span>  p<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> i<span class="op">;</span>  <span class="co">// 初始化并查集!!!!</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">static</span> <span class="dt">int</span> res<span class="op">,</span> cnt<span class="op">;</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> m<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a <span class="op">=</span> edge<span class="op">[</span>i<span class="op">].</span>a<span class="op">,</span> b <span class="op">=</span> edge<span class="op">[</span>i<span class="op">].</span>b<span class="op">,</span> w <span class="op">=</span> edge<span class="op">[</span>i<span class="op">].</span>w<span class="op">;</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>find<span class="op">(</span>a<span class="op">)</span> <span class="op">!=</span> find<span class="op">(</span>b<span class="op">))</span>  <span class="co">//  如果这两个点不在同一个集合那就把它们加入进来</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>            p<span class="op">[</span>find<span class="op">(</span>a<span class="op">)]</span> <span class="op">=</span> find<span class="op">(</span>b<span class="op">);</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>            res <span class="op">+=</span> w<span class="op">;</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>            cnt <span class="op">++</span> <span class="op">;</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>cnt <span class="op">==</span> n <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="cf">break</span><span class="op">;</span>  <span class="co">// 加了这个优化能稍微快一点 </span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>cnt <span class="op">&lt;</span> n <span class="op">-</span> <span class="dv">1</span><span class="op">)</span>  <span class="cf">return</span> INF<span class="op">;</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">return</span> res<span class="op">;</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> m<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> edge<span class="op">[</span>i<span class="op">].</span>a <span class="op">&gt;&gt;</span> edge<span class="op">[</span>i<span class="op">].</span>b <span class="op">&gt;&gt;</span> edge<span class="op">[</span>i<span class="op">].</span>w<span class="op">;</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x <span class="op">=</span> kruskal<span class="op">();</span></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>x <span class="op">&gt;</span> INF <span class="op">/</span> <span class="dv">2</span><span class="op">)</span>  printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>最小生成树</tag>
        <tag>图论</tag>
      </tags>
  </entry>
  <entry>
    <title>最短路算法</title>
    <url>/2022/05/21/%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<h1 id="最短路">最短路</h1>
<p>声明：n个点，m条边 稠密图用邻接矩阵，稀疏图用邻接表</p>
<p><img src="https://s2.loli.net/2022/03/24/UQgtY4E9yblsL75.png" /></p>
<h3 id="dijkstra算法">dijkstra算法</h3>
<p>不适用于有负权边的情况，复杂度为 <span
class="math inline">\(O(n^2)\)</span>/<span
class="math inline">\(O(m\cdot logn)\)</span></p>
<p>有朴素版本和堆(prioirty queue)优化版本</p>
<h4 id="朴素版本">朴素版本</h4>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dijkstra<span class="op">()</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span>  <span class="co">// 因为第一个点已经计算过了，所以循环n-1次即可</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> t <span class="op">=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(!</span>st<span class="op">[</span>j<span class="op">]</span> <span class="op">&amp;&amp;</span> <span class="op">(</span>t <span class="op">==</span> <span class="op">-</span><span class="dv">1</span> <span class="op">||</span> dist<span class="op">[</span>j<span class="op">]</span> <span class="op">&lt;</span> dist<span class="op">[</span>t<span class="op">]))</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                    t <span class="op">=</span> j<span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dist<span class="op">[</span>j<span class="op">],</span> dist<span class="op">[</span>t<span class="op">]</span> <span class="op">+</span> g<span class="op">[</span>t<span class="op">][</span>j<span class="op">]);</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>t<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>n<span class="op">]</span> <span class="op">==</span> <span class="bn">0x3f3f3f3f</span><span class="op">)</span>  <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">return</span> dist<span class="op">[</span>n<span class="op">];</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="堆优化版本">堆优化版本</h4>
<p>(优化的是找出距离最近的点这一步)</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> add<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span>  <span class="co">// 邻接表存边</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    e<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> b<span class="op">,</span> w<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> c<span class="op">,</span> ne<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> h<span class="op">[</span>a<span class="op">],</span> h<span class="op">[</span>a<span class="op">]</span> <span class="op">=</span> idx <span class="op">++</span> <span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dijkstra<span class="op">()</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span>  <span class="co">//  初始化距离为正无穷</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    priority_queue<span class="op">&lt;</span>PII<span class="op">,</span> vector<span class="op">&lt;</span>PII<span class="op">&gt;,</span> greater<span class="op">&lt;</span>PII<span class="op">&gt;</span> <span class="op">&gt;</span> heap<span class="op">;</span>  <span class="co">// 元素种类为PII的小根堆</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    heap<span class="op">.</span>push<span class="op">(</span>make_pair<span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">));</span>  <span class="co">//  由于小根堆中的pair会默认按第一个元素排序，所以这里将距离存到前面</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>heap<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">auto</span> t <span class="op">=</span> heap<span class="op">.</span>top<span class="op">();</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        heap<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> distance <span class="op">=</span> t<span class="op">.</span>first<span class="op">,</span> ver <span class="op">=</span> t<span class="op">.</span>second<span class="op">;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>st<span class="op">[</span>ver<span class="op">])</span> <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>ver<span class="op">]</span>  <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> h<span class="op">[</span>ver<span class="op">];</span> i <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> i <span class="op">=</span> ne<span class="op">[</span>i<span class="op">]</span> <span class="op">)</span>  <span class="co">//  注意i初始化ver的头指针h[ver]</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> j <span class="op">=</span> e<span class="op">[</span>i<span class="op">];</span>  <span class="co">// 取点</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">]</span> <span class="op">&lt;</span> dist<span class="op">[</span>j<span class="op">])</span> </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                heap<span class="op">.</span>push<span class="op">(</span>make_pair<span class="op">(</span>dist<span class="op">[</span>j<span class="op">],</span> j<span class="op">));</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>n<span class="op">]</span> <span class="op">==</span> <span class="bn">0x3f3f3f3f</span><span class="op">)</span>  <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">return</span> dist<span class="op">[</span>n<span class="op">];</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="vector存图">vector存图</h4>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#define debug</span><span class="op">(</span>x<span class="op">)</span><span class="pp"> </span>cout<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> #</span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span><span class="st">&quot; = &quot;</span><span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>x<span class="pp"> </span><span class="op">&lt;&lt;</span><span class="pp"> </span>endl</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#define xx </span>first</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#define yy </span>second</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="fl">1e9</span> <span class="op">+</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">//const double esp = 1e-6;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span>vector<span class="op">&lt;</span>PII<span class="op">&gt;&gt;</span> g<span class="op">(</span>n<span class="op">);</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> m<span class="op">;</span> i <span class="op">++)</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> c<span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        a <span class="op">--,</span> b <span class="op">--;</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        g<span class="op">[</span>a<span class="op">].</span>push_back<span class="op">(&#123;</span>b<span class="op">,</span> c<span class="op">&#125;);</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">auto</span> dijkstra <span class="op">=</span> <span class="op">[&amp;]()</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span> dist<span class="op">);</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>st<span class="op">,</span> <span class="kw">false</span><span class="op">,</span> <span class="kw">sizeof</span> st<span class="op">);</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>        priority_queue<span class="op">&lt;</span>PII<span class="op">,</span> vector<span class="op">&lt;</span>PII<span class="op">&gt;,</span> greater<span class="op">&lt;</span>PII<span class="op">&gt;</span> <span class="op">&gt;</span> q<span class="op">;</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        dist<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>        q<span class="op">.</span>push<span class="op">(&#123;</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">&#125;);</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span><span class="op">(</span>q<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>            <span class="kw">auto</span> t <span class="op">=</span> q<span class="op">.</span>top<span class="op">();</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>            q<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>st<span class="op">[</span>t<span class="op">.</span>yy<span class="op">])</span> <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>            st<span class="op">[</span>t<span class="op">.</span>yy<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span> </span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span><span class="op">(</span><span class="kw">auto</span> <span class="op">[</span>u<span class="op">,</span> v<span class="op">]</span> <span class="op">:</span> g<span class="op">[</span>t<span class="op">.</span>yy<span class="op">])</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>u<span class="op">]</span> <span class="op">&gt;</span> t<span class="op">.</span>xx <span class="op">+</span> v<span class="op">)</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>                <span class="op">&#123;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>                    dist<span class="op">[</span>u<span class="op">]</span> <span class="op">=</span> t<span class="op">.</span>xx <span class="op">+</span> v<span class="op">;</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>                    q<span class="op">.</span>push<span class="op">(&#123;</span>dist<span class="op">[</span>u<span class="op">],</span> u<span class="op">&#125;);</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>                <span class="op">&#125;</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;;</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    dijkstra<span class="op">();</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="bn">0x3f3f3f3f</span><span class="op">)</span> cout <span class="op">&lt;&lt;</span> <span class="st">&quot;-1&quot;</span><span class="op">;</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> cout <span class="op">&lt;&lt;</span> dist<span class="op">[</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&lt;&lt;</span> <span class="ch">&#39;</span><span class="sc">\n</span><span class="ch">&#39;</span><span class="op">;</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="邮递员送信">邮递员送信</h4>
<p>邮递员去送信然后要求送信后再返回（有向边）</p>
<p>解法：</p>
<p>反向建边+跑两次dijkstra 正着走过去的时候用一遍dijkstra。
返回时就建个返图跑一遍dijkstra。
反图可以把所有结点的编号+n建在原图的体系中。</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;queue&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">2e5</span> <span class="op">+</span> <span class="dv">5</span><span class="op">;</span>  <span class="co">//  数组记得开够</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> h<span class="op">[</span>N<span class="op">],</span> ne<span class="op">[</span>N<span class="op">],</span> w<span class="op">[</span>N<span class="op">],</span> e<span class="op">[</span>N<span class="op">],</span> idx<span class="op">;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> add<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    e<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> b<span class="op">,</span> w<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> c<span class="op">,</span> ne<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> h<span class="op">[</span>a<span class="op">],</span> h<span class="op">[</span>a<span class="op">]</span> <span class="op">=</span> idx <span class="op">++</span> <span class="op">;</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> dijkstra<span class="op">(</span><span class="dt">int</span> fir<span class="op">)</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span>   </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    priority_queue<span class="op">&lt;</span>PII<span class="op">,</span> vector<span class="op">&lt;</span>PII<span class="op">&gt;,</span> greater<span class="op">&lt;</span>PII<span class="op">&gt;</span> <span class="op">&gt;</span>heap<span class="op">;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span>fir<span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    heap<span class="op">.</span>push<span class="op">(</span>make_pair<span class="op">(</span><span class="dv">0</span><span class="op">,</span> fir<span class="op">));</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>heap<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>        PII t <span class="op">=</span> heap<span class="op">.</span>top<span class="op">();</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>        heap<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> distance <span class="op">=</span> t<span class="op">.</span>first<span class="op">,</span> ver <span class="op">=</span> t<span class="op">.</span>second<span class="op">;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>st<span class="op">[</span>ver<span class="op">])</span>  <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>ver<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> h<span class="op">[</span>ver<span class="op">];</span> i <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> i <span class="op">=</span> ne<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> j <span class="op">=</span> e<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>j<span class="op">]</span> <span class="op">&gt;</span> distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>                dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>                heap<span class="op">.</span>push<span class="op">(</span>make_pair<span class="op">(</span>dist<span class="op">[</span>j<span class="op">],</span> j<span class="op">));</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>h<span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>h<span class="op">));</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>m <span class="op">--</span> <span class="op">)</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> c<span class="op">;</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>        add<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> c<span class="op">);</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>        add<span class="op">(</span>b <span class="op">+</span> n<span class="op">,</span> a <span class="op">+</span> n<span class="op">,</span> c<span class="op">);</span>  <span class="co">//  建一个反图</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    dijkstra<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>    LL res <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>        res <span class="op">+=</span> dist<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    dijkstra<span class="op">(</span><span class="dv">1</span> <span class="op">+</span> n<span class="op">);</span>  <span class="co">//  反向跑一次dijkstra</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span> <span class="op">+</span> n<span class="op">;</span> i <span class="op">&lt;=</span> <span class="dv">2</span> <span class="op">*</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>        res <span class="op">+=</span> dist<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> res<span class="op">;</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="最短路计数">最短路计数</h4>
<p>增加一个num数组进行计数</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;queue&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">long</span> <span class="dt">long</span> LL<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> pair<span class="op">&lt;</span><span class="dt">int</span><span class="op">,</span> <span class="dt">int</span><span class="op">&gt;</span> PII<span class="op">;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">2e6</span> <span class="op">+</span> <span class="dv">5</span><span class="op">,</span> mod <span class="op">=</span> <span class="dv">100003</span><span class="op">;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> h<span class="op">[</span>N<span class="op">],</span> ne<span class="op">[</span>N<span class="op">],</span> w<span class="op">[</span>N<span class="op">],</span> e<span class="op">[</span>N<span class="op">],</span> idx<span class="op">;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">],</span> num<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> add<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    e<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> b<span class="op">,</span> w<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> c<span class="op">,</span> ne<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> h<span class="op">[</span>a<span class="op">],</span> h<span class="op">[</span>a<span class="op">]</span> <span class="op">=</span> idx <span class="op">++</span> <span class="op">;</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> dijkstra<span class="op">()</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    num<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    priority_queue<span class="op">&lt;</span>PII<span class="op">,</span> vector<span class="op">&lt;</span>PII<span class="op">&gt;,</span> greater<span class="op">&lt;</span>PII<span class="op">&gt;</span> <span class="op">&gt;</span> heap<span class="op">;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    heap<span class="op">.</span>push<span class="op">(</span>make_pair<span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">));</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>heap<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>        PII t <span class="op">=</span> heap<span class="op">.</span>top<span class="op">();</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>        heap<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> distance <span class="op">=</span> t<span class="op">.</span>first<span class="op">,</span> ver <span class="op">=</span> t<span class="op">.</span>second<span class="op">;</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>st<span class="op">[</span>ver<span class="op">])</span> <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>ver<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> h<span class="op">[</span>ver<span class="op">];</span> i <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> i <span class="op">=</span> ne<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> j <span class="op">=</span> e<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>j<span class="op">]</span> <span class="op">==</span> distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>                num<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>num<span class="op">[</span>j<span class="op">]</span> <span class="op">+</span> num<span class="op">[</span>ver<span class="op">])</span> <span class="op">%</span> mod<span class="op">;</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>j<span class="op">]</span> <span class="op">&gt;</span> distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>                dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> distance <span class="op">+</span> w<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>                num<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> num<span class="op">[</span>ver<span class="op">];</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>                heap<span class="op">.</span>push<span class="op">(</span>make_pair<span class="op">(</span>dist<span class="op">[</span>j<span class="op">],</span> j<span class="op">));</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>h<span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>h<span class="op">));</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>m <span class="op">--</span> <span class="op">)</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">;</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b<span class="op">;</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>a <span class="op">==</span> b<span class="op">)</span> <span class="cf">continue</span><span class="op">;</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>        add<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>        add<span class="op">(</span>b<span class="op">,</span> a<span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>    dijkstra<span class="op">();</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> num<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="bellman-ford算法">bellman-ford算法</h3>
<p>适用于有负权边的情况</p>
<p><span class="math inline">\(O(n \cdot m)\)</span></p>
<p>如果有负环，或限制最多走k次时可以用，大多数时候用SPFA完全替代</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">510</span><span class="op">,</span> M <span class="op">=</span> <span class="dv">10010</span><span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">,</span> k<span class="op">;</span>  <span class="co">//  n个点，m条边，走不超过k次</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Edge</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span>edge<span class="op">[</span>M<span class="op">];</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">],</span> backup<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> Bellman_ford<span class="op">()</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> k<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        memcpy<span class="op">(</span>backup<span class="op">,</span> dist<span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> m<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>            Edge e <span class="op">=</span> edge<span class="op">[</span>j<span class="op">];</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>            dist<span class="op">[</span>e<span class="op">.</span>b<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dist<span class="op">[</span>e<span class="op">.</span>b<span class="op">],</span> backup<span class="op">[</span>e<span class="op">.</span>a<span class="op">]</span> <span class="op">+</span> e<span class="op">.</span>c<span class="op">);</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m <span class="op">&gt;&gt;</span> k<span class="op">;</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> m<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> c<span class="op">;</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>        edge<span class="op">[</span>i<span class="op">].</span>a <span class="op">=</span> a<span class="op">,</span> edge<span class="op">[</span>i<span class="op">].</span>b <span class="op">=</span> b<span class="op">,</span> edge<span class="op">[</span>i<span class="op">].</span>c <span class="op">=</span> c<span class="op">;</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    Bellman_ford<span class="op">();</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>n<span class="op">]</span> <span class="op">&gt;</span> <span class="bn">0x3f3f3f3f</span> <span class="op">/</span> <span class="dv">2</span><span class="op">)</span>  printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> dist<span class="op">[</span>n<span class="op">]);</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h3 id="spfa算法">SPFA算法</h3>
<p>利用宽搜BFS进行优化</p>
<p>适用于有负权边的情况</p>
<p>如果存在负环则不能用</p>
<p><span class="math inline">\(O(m)\)</span>，最坏情况<span
class="math inline">\(O(n\cdot m)\)</span></p>
<h4 id="朴素版本-1">朴素版本</h4>
<div class="sourceCode" id="cb7"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;queue&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">100010</span><span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> e<span class="op">[</span>N<span class="op">],</span> w<span class="op">[</span>N<span class="op">],</span> ne<span class="op">[</span>N<span class="op">],</span> h<span class="op">[</span>N<span class="op">],</span> idx<span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> add<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    e<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> b<span class="op">,</span> w<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> c<span class="op">,</span> ne<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> h<span class="op">[</span>a<span class="op">],</span> h<span class="op">[</span>a<span class="op">]</span> <span class="op">=</span> idx <span class="op">++</span> <span class="op">;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> spfa<span class="op">()</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    queue<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> q<span class="op">;</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    q<span class="op">.</span>push<span class="op">(</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    st<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>q<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> t <span class="op">=</span> q<span class="op">.</span>front<span class="op">();</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>        q<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>t<span class="op">]</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> h<span class="op">[</span>t<span class="op">];</span> i <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> i <span class="op">=</span> ne<span class="op">[</span>i<span class="op">])</span>  <span class="co">// i = h[t]忘记写h了易错！！！</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> j <span class="op">=</span> e<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>j<span class="op">]</span> <span class="op">&gt;</span> dist<span class="op">[</span>t<span class="op">]</span> <span class="op">+</span> w<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>                dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> dist<span class="op">[</span>t<span class="op">]</span> <span class="op">+</span> w<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span><span class="op">(!</span>st<span class="op">[</span>j<span class="op">])</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>                <span class="op">&#123;</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>                    q<span class="op">.</span>push<span class="op">(</span>j<span class="op">);</span>  <span class="co">//  记得推进队列之中去</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>                    st<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>                <span class="op">&#125;</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dist<span class="op">[</span>n<span class="op">];</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>h<span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="kw">sizeof</span> h<span class="op">);</span></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>m <span class="op">--</span> <span class="op">)</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> c<span class="op">;</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>        add<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> c<span class="op">);</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t <span class="op">=</span> spfa<span class="op">();</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span><span class="op">(</span>t <span class="op">==</span> <span class="bn">0x3f3f3f3f</span><span class="op">)</span>  printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> t<span class="op">);</span></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<h4 id="spfa判断负环">SPFA判断负环</h4>
<div class="sourceCode" id="cb8"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;queue&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="fl">1e5</span> <span class="op">+</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> h<span class="op">[</span>N<span class="op">],</span> e<span class="op">[</span>N<span class="op">],</span> ne<span class="op">[</span>N<span class="op">],</span> w<span class="op">[</span>N<span class="op">],</span> idx<span class="op">;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> cnt<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> st<span class="op">[</span>N<span class="op">];</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> add<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">,</span> <span class="dt">int</span> c<span class="op">)</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    e<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> b<span class="op">,</span> w<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> c<span class="op">,</span> ne<span class="op">[</span>idx<span class="op">]</span> <span class="op">=</span> h<span class="op">[</span>a<span class="op">],</span> h<span class="op">[</span>a<span class="op">]</span> <span class="op">=</span> idx <span class="op">++</span> <span class="op">;</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="dt">bool</span> spfa<span class="op">()</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>dist<span class="op">,</span> <span class="bn">0x3f</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>dist<span class="op">));</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    memset<span class="op">(</span>cnt<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>cnt<span class="op">));</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    queue <span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> q<span class="op">;</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    dist<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">//  如果题目说存在负环，那么需要循环一次将所有的点都加入队列之中</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">//  如果是求是否存在从1开始的负环，那么只将1加入队列之中就可以了</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>        q<span class="op">.</span>push<span class="op">(</span>i<span class="op">);</span>   </span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>q<span class="op">.</span>size<span class="op">())</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> t <span class="op">=</span> q<span class="op">.</span>front<span class="op">();</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        q<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        st<span class="op">[</span>t<span class="op">]</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> h<span class="op">[</span>t<span class="op">];</span> i <span class="op">!=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> i <span class="op">=</span> ne<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> j <span class="op">=</span> e<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>j<span class="op">]</span> <span class="op">&gt;</span> dist<span class="op">[</span>t<span class="op">]</span> <span class="op">+</span> w<span class="op">[</span>i<span class="op">])</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>                dist<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> dist<span class="op">[</span>t<span class="op">]</span> <span class="op">+</span> w<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>                cnt<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> cnt<span class="op">[</span>t<span class="op">]</span> <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> </span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span><span class="op">(</span>cnt<span class="op">[</span>j<span class="op">]</span> <span class="op">&gt;=</span> n<span class="op">)</span>  <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span><span class="op">(!</span>st<span class="op">[</span>j<span class="op">])</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>                <span class="op">&#123;</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>                    q<span class="op">.</span>push<span class="op">(</span>j<span class="op">);</span> </span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>                    st<span class="op">[</span>j<span class="op">]</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>                <span class="op">&#125;</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> t<span class="op">;</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> t<span class="op">;</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>t <span class="op">--</span> <span class="op">)</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>h<span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>h<span class="op">));</span></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>e<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>e<span class="op">));</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>ne<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>ne<span class="op">));</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>w<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>w<span class="op">));</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>        memset<span class="op">(</span>st<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>st<span class="op">));</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>        idx <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m<span class="op">;</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">while</span><span class="op">(</span>m <span class="op">--</span> <span class="op">)</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> w<span class="op">;</span></span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>            cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> w<span class="op">;</span></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>w <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">)</span></span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#123;</span></span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>                add<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> w<span class="op">);</span></span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>                add<span class="op">(</span>b<span class="op">,</span> a<span class="op">,</span> w<span class="op">);</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>            <span class="op">&#125;</span></span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>  add<span class="op">(</span>a<span class="op">,</span> b<span class="op">,</span> w<span class="op">);</span> </span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>spfa<span class="op">())</span>  printf<span class="op">(</span><span class="st">&quot;YES</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;NO</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
<p>用cnt[]数组进行判断，如果cnt[j]大于n说明存在负环使得求最短路时不断循环</p>
<p>时间复杂度 一般：<span class="math inline">\(O(m)\)</span>
最坏：<span class="math inline">\(O(nm)\)</span></p>
<h3 id="多源汇最短路floyd算法">多源汇最短路Floyd算法</h3>
<p>时间复杂度 <span class="math inline">\(O(n^3)\)</span></p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;cstring&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> N <span class="op">=</span> <span class="dv">300</span><span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> n<span class="op">,</span> m<span class="op">,</span> k<span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> dist<span class="op">[</span>N<span class="op">][</span>N<span class="op">];</span>  <span class="co">//  注意只需要dist数组，无需g数组</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> floyd<span class="op">()</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> k <span class="op">&lt;=</span> n<span class="op">;</span> k <span class="op">++</span> <span class="op">)</span>  <span class="co">// k写在最前面</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>                dist<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dist<span class="op">[</span>i<span class="op">][</span>j<span class="op">],</span> dist<span class="op">[</span>i<span class="op">][</span>k<span class="op">]</span> <span class="op">+</span> dist<span class="op">[</span>k<span class="op">][</span>j<span class="op">]);</span>  </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">// 注意是dist[i][k]+dist[k][j]</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    cin <span class="op">&gt;&gt;</span> n <span class="op">&gt;&gt;</span> m <span class="op">&gt;&gt;</span> k<span class="op">;</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;=</span> n<span class="op">;</span> i <span class="op">++</span> <span class="op">)</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;=</span> n<span class="op">;</span> j <span class="op">++</span> <span class="op">)</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#123;</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span><span class="op">(</span>i <span class="op">==</span> j<span class="op">)</span>  dist<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span>  <span class="co">//  不用memset进行初始化</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>            <span class="co">//  手动初始化使得dist[i][i] = 0</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span> dist<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="bn">0x3f3f3f3f</span><span class="op">;</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">&#125;</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>m <span class="op">--</span> <span class="op">)</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">,</span> c<span class="op">;</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b <span class="op">&gt;&gt;</span> c<span class="op">;</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>        dist<span class="op">[</span>a<span class="op">][</span>b<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dist<span class="op">[</span>a<span class="op">][</span>b<span class="op">],</span> c<span class="op">);</span>  <span class="co">// 重边最小化操作</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    floyd<span class="op">();</span> </span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>k <span class="op">--</span> <span class="op">)</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> a<span class="op">,</span> b<span class="op">;</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>        cin <span class="op">&gt;&gt;</span> a <span class="op">&gt;&gt;</span> b<span class="op">;</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span><span class="op">(</span>dist<span class="op">[</span>a<span class="op">][</span>b<span class="op">]</span> <span class="op">&gt;</span> <span class="bn">0x3f3f3f3f</span> <span class="op">/</span> <span class="dv">2</span><span class="op">)</span>  printf<span class="op">(</span><span class="st">&quot;impossible</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span> printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> dist<span class="op">[</span>a<span class="op">][</span>b<span class="op">]);</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>图论</tag>
        <tag>最短路</tag>
      </tags>
  </entry>
  <entry>
    <title>海边</title>
    <url>/2022/06/25/%E6%B5%B7%E8%BE%B9/</url>
    <content><![CDATA[<p><img src="https://s2.loli.net/2022/06/27/K7oZyY2nqxNcFlG.jpg" /></p>
<p>到海边走走</p>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>海边</tag>
      </tags>
  </entry>
  <entry>
    <title>骗非洲小孩喊“我是黑鬼，智商低”，愚蠢至极</title>
    <url>/2022/06/30/%E7%A7%8D%E6%97%8F%E6%AD%A7%E8%A7%86/</url>
    <content><![CDATA[<p>在最近BBC的报道后，淘宝已经下架了争议的“非洲定制祝福视频”产品。这件事令人惊讶之处在于，这个夺人眼球的生意，终于在多年后，因为一起极端的侮辱性文案事件加童工后，才真正引发了争议。</p>
<p>在此之前，人们多多少少在朋友圈或短视频平台看到过类似的视频，甚至有不少人在实际生活中接触过这种猎奇的祝福方式。而此次事件后，我们如梦方醒地意识到，这可能是一件涉嫌歧视和侮辱性的事。</p>
<p><img src="https://s2.loli.net/2022/06/30/2Ru3Ie9flL1EH5d.png" /></p>
<p>微博截图</p>
<p>这一方面说明我们的社会环境整体对于族群歧视问题的确缺乏敏感，这种潜移默化的接受与漠视与很多男性对女性处境的接受与漠视高度类似。另一方面，这件事即便被揭示出来，也未能消除所有人的疑虑，还是有很多人认为这种生意其中有很多合理的要素。</p>
<p>确实，排除侮辱性的内容，绝大多数文案都是祝福的目的，且很多祝福视频也并没有小孩子的参与，都是成年人。因此排除引发争议的这个特例，这个产业如果都是由成年人参与，且制作内容都是生日祝福，是否就没什么问题，而仅仅是一种“格调不高”的生意了呢？</p>
<p>这不是一个新问题，相反，这件事折射的是一个经常被讨论的旧问题，即经济发展不均衡与“血汗行业”的问题。这个问题可以关联东亚的大型流水线工厂，可以关联东欧性工作者，可以关联印度的外包呼叫中心，可以关联外卖送餐员等等“工作正义”的问题，甚至在白领的圈子里，职场的霸凌与欺压，也与此相关。</p>
<p>这里有一个核心的信念：当一个地区经济水平落后，平均收入较低时，必然堕入全球产业链的最底层位置，只能从事带有欺压和侮辱性质的产业，这个问题的讨论就快速遭遇“社会达尔文主义”之墙，形似“落后就要挨打”，在这里我们的结论就是“贫穷就要受辱”。随后快进到结论，只有经济发展才可以解决这个问题，有钱，才能摆脱这个处境。</p>
<p>要把这样的一个问题谈出新意，就必须跳出对于极端例子的争执，即我们不讨论侮辱性内容和童工问题，这些当然不合理；我们深入细节，并不断碰撞“贫穷就要受辱”的根本视角，来看是否可以发现一些新的问题。</p>
<h2 id="section"><strong>01</strong></h2>
<h4
id="全球化的新一面赛博劳工"><strong>全球化的新一面：赛博劳工</strong></h4>
<p>我们把这个问题从非洲定制祝福视频上挪开，回头看看菲律宾。在2021年疫情席卷的浪潮中，很多国家遭遇严峻的经济危机，也产生了一些新的工作。可能很多人还记得这样一个新闻，在疫情肆虐下的菲律宾村庄，全村人依靠在一款叫做Axie
Infinity的区块链游戏中赚钱谋生，最高峰时期甚至有人可以月入5000元人民币左右，这当然对他们是一笔非常可观的收入。</p>
<p>区块链网络游戏加上菲律宾村庄这一巨大的反差，为此事件带来很多关注，其实不仅在菲律宾，在委内瑞拉，古巴等经济不发达的地方，都快速涌现出这个游戏的代练、金币代打服务。</p>
<p>这让与此游戏相关的虚拟货币价格暴涨，从2021年游戏代练业务高速增长的5月，到2021年11月，这游戏的代币价格从3.7美元左右暴涨到160美元，但这并不是一个暴富的神话，截止2022年6月19日，代币价格已经低至12.49美元。其活跃日用户数也从270万跌入到100万以内。</p>
<p>这是一段离奇的财富故事，在事件之初，那是一个美妙的投机故事，但到今天，却是一个悲惨的故事，村里人竟然也被区块链的泡沫左右，经历生活的颠簸。可以想象，淘宝在BBC报道发酵后撤下了平台上有关“非洲定制祝福”的一切商品，这个技术处理，对于那些在非洲从事这个业务的团队，是否是流量和订单的毁灭性打击呢？</p>
<p>这里面有两个问题值得关注，其一是BBC的这个报道，也许导致这个行业被休克式地中止，那么从事此行业的本地人会如何理解和感受？这对他们是福是祸？</p>
<p>而另一个问题则是，全球化与信息技术将这些人卷入到异常遥远，他们根本无法知晓，也更无法对其施加影响的漩涡中，这给予他们生活的，又是一个什么样的风险？</p>
<p><img src="https://s2.loli.net/2022/06/30/9MkmAn4osbzWEfO.jpg" /></p>
<p>这是我们可以超出富裕与贫穷，尊严与受辱之外的维度，也知晓这个世界不是由“富裕并拥有尊严”的工作，和“贫穷与羞辱”的二元对立构成的。外卖送餐员这份工作，从其劳累程度和工作强度上，依然谈不上什么“尊严”，却深深嵌入到我们共同生活的这个社会环境中。</p>
<p>最简单地举例，如果我们想向一个组织施压，来提高外卖送餐员的待遇和水平，我们知道该去找谁。我们可以从劳动法和其他法律的框架内找到这个问题解决的线索，例如我们知道，破除层层分包的远程劳务排遣，是帮助他们获得可行的法律保障的关键。</p>
<p>但如果我们关心“非洲定制祝福”产业链上的人们，例如用户的订单收入，有多少是被视频中出镜的男男女女获得的？该如何提高他们的收入呢？但我们甚至不知道其来自哪个具体的非洲国家，对这个问题完全使不上力。</p>
<p>在这里我们发现社会系统的作用和意义，虽然未必可以解决一切问题，但同属于一个系统中，覆盖在同一个商业环境和法律环境里，我们与外卖送餐员就“真正的有关”，而这个关系构成了社会互相关心和支持的可能性，也就是说，同属于一个语境中，我们才能感受到问题解决的“可能性”。</p>
<p>这就让赛博劳工与他们的处境完全不同，地理、国家、文化、信息的阻隔，并没有阻隔商业与剥削，却阻隔了维权与实质性关心的可能，这为我们了解“附近性”提供了一个新的视角，虽然这里未必要引入这个概念。即商品化和全球化是一个低语境的构成，而权利和尊严是个高语境的构成。</p>
<p><img src="https://s2.loli.net/2022/06/30/KP84nYNwGDUxrh5.jpg" /></p>
<p>低语境，即意义的构成直白而简单，就像你翻开一个商品的标签，上面这些“越南生产”或“印尼生产”，或是“非洲定制祝福”视频，语境简化到甚至国别都略去了。这里面的道理不复杂，商品是个高度标准化的要素，购买一件T恤，不需要了解它的运营与生产过程，店员的性格，具体生产企业的信息。</p>
<p>但在任何地方“解决一个问题”，想办法改善上海外卖送餐员的生活，或一个别的城市解决同样的问题，会遭遇两个完全不同的境况，我们<a
href="https://mp.weixin.qq.com/s?__biz=MzA3MDM3NjE5NQ==&amp;mid=2650921977&amp;idx=1&amp;sn=6a168e8ab6c7a280070bec484dcffd91&amp;chksm=84c8b595b3bf3c837d5b32390f40d5d46710dcbf0f58198079d2c407e1f8229fee773e42cae4&amp;token=843380374&amp;lang=zh_CN&amp;scene=21#wechat_redirect">之前一篇文章</a>说到解决身边问题恐怕不能依靠“法理原则”，而需要细节了解程序性规范，也是类似的道理。</p>
<p>买T恤只需要商品的外型与货币支付，而解决一个问题却需要对问题所处环境的全面了解。商品化是低语境的，商品化带来问题的解决却是高语境的。甚至问题解决所需要的同情心都是，如果未来外卖都改为无接触投递到快递柜或货架，恐怕关心他们处境的人就会快速减少。</p>
<p>这让赛博劳工的处境变得特别，这些隔绝在语境背后的人，让我们与他们之间形成一种绝对的剥削关系，在此，对他们的观看、同情、解决便都不再可能了。</p>
<p>“非洲定制祝福”就是赛博劳动中最极端的一个例子，这是我们每个人都或多或少遇见过的困境，所谓“附近性”可以被理解为一个高语境的环境，很多真正的功能蕴含在其中。</p>
<h2 id="section-1"><strong>02</strong></h2>
<h4 id="超越与连接语境的"><strong>超越与连接语境的</strong></h4>
<p>所以这是要复兴“附近性”了吗？未必，这就是上面说“未必要引入这个概念”的原因。今天我们对这个概念确实太过看重，以“附近性”之名，我们对整个系统的关注和了解反而太少，但我们现在所生活的世界，恰恰就是一个系统大幅度嵌入生活世界的环境，附近不可能是一切。</p>
<p>这从我们与远方的关系中可以明显呈现。一般情况下，大企业比中小企业拥有更好的劳工环境和合规，不是因为他们有更多的“附近性”，而是他们合规运营才能减少风险。</p>
<p>在这里可以举一个大家都熟悉的例子——星巴克，有了全球化之后，种植业一直以来都是最血腥的行业，且最末端的种植者，一直是被盘剥得最严重的领域，所谓“遍身罗绮者，不是养蚕人”。</p>
<p>当我们想象城市，例如咖啡厅，我们可以立即从社区，身边的商业与城市机理中，构想所谓“附近性”。但对于咖啡农，则毫无“附近”可言。某种程度上，咖啡消费者都参与到对咖啡农的剥削中，就像消费“非洲定制祝福”，在这次争议爆出后，当然都会意识到这样的别扭。</p>
<p><img src="https://s2.loli.net/2022/06/30/zZ5GSXQvYTtsaWm.jpg" /></p>
<p>但对于解决咖啡农的问题，真正关联我们和他们的，不是附近性，而是在其中的大企业，不管是星巴克还是一些本土咖啡品牌，都纷纷以培植云南咖啡豆产业作为他们的“己任”，而他们不管是对咖啡农本身的“争取”和“培植”，或是他们为了能够营销而作出的努力，都成为咖啡农解决他们问题的方案。</p>
<p>全球化的中间环节——企业，当然会成为解决全球化问题的重要方法。而我们，只需要选择那些更负责的企业。</p>
<p>企业本身当然也是逐利的，非政府组织在“解决问题”方面比企业目的更加纯粹，例如在云南，就有“云南精品咖啡社群”在本地做着一些支持咖啡农，协助宣传的工作。</p>
<p>而非洲因为在全球发展相对落后，更是联合国与其他非政府组织资源相对集中的地方，很多重要的工作都由他们推动和完成。例如在推动童工消失的领域，就有很多非政府组织，在非洲努力解决此问题，虽然疫情带来的经济危机，在全球带来一批童工问题的回潮。</p>
<p>除此之外，全球化本身也在通过贸易协定解决一些问题，例如WTO就有针对劳工的标准，我国劳动立法的完善，与加入WTO就有很大关系。我国在2021年申请加入的CPTPP则对劳工保护有更严格的标准，加入这些贸易协定带来的市场机遇，也成为很多国家解决各自问题的前提。</p>
<p>在这里，希望破除两种视角，一是”经济决定论“，认为一切问题都指向唯一答案——经济发展，这让我们以非常简单的方式看待不公平的问题，即他们太贫穷了，这让剥削甚至变得必要，要么被我们剥削，要么就会食不果腹，如此看来，我们的剥削好像还为他们提供了生存机会。</p>
<p>第二种视角既是一种过去强调“附近性”的视角，那么一个远在非洲的问题当然不会与我相关，如果在我的生活中遇到这样的问题，就只能表示遗憾。</p>
<p><img src="https://s2.loli.net/2022/06/30/hE1azj7fWYJ43Uu.jpg" /></p>
<p>以上“中间组织”呈现出来的，就是破除不可避免的“必要之侮辱”，处于“价值链”和“发展均衡”中的劣势地位，并不是代表必然处于“被侮辱”的位置，而对于我们每个人，这些“中间组织”与我们也产生实际的关系。</p>
<p>关心“责任消费”领域，以消费的方式支持那些在供应链上应用较高标准的企业，这本身就很有价值，且在生活中是举手之劳；更不必说关注那些解决问题的社会组织并以捐赠的方式支持其发展，这也是某种程度上对社会资源的再分配，毕竟我们每年已经有巨大的资源通过消费给予商业企业。在我们熟悉的语境中，远方问题的缓解和解决，成为了可能。</p>
<p>在这些共同的努力下，我们会超越静态地谈论“消费他们到底道德不道德”或者“这一切都是经济不发达的原因”来看待这个问题。</p>
<h2 id="section-2"><strong>03</strong></h2>
<h4 id="没有必然受辱的工作"><strong>没有“必然受辱”的工作</strong></h4>
<p>我们来面对上面的一个难题，即如果从当地成年人参与该行业的角度上来看，他们会不会是自愿的？如果淘宝下架一切这种服务的链接，是否他们立即就失去了工作？这种对这一行业问题的揭露，反而成为了一个问题？</p>
<p>其实这种行业不仅仅在影响非洲，他们提供的服务，还包括一种更传统的女性物化。很多定制祝福视频来自泰国和乌克兰的女性，提供的服务与非洲祝福视频类似，一个黑板写着祝福信息，领头的人教他们说蹩脚的中文，只是他们让这些女性们穿着近乎于情趣内衣的衣物，这是一个色情擦边球的服务。也因为这个特征，也许更少被我们看到。</p>
<p>他们是自愿的吗？可能是的，但自愿在这里能够是一个多大的辩护呢？我们认为这是他们能够得到的最好的赚钱选择了，所以消费他们没什么问题，同样的逻辑也被用于辩护外卖送餐员这个工作，这都是他们自愿选择的，而且门槛低，虽然辛苦，但在城市里收入不算低，似乎一切消费行为也就获得了辩护。</p>
<p><img src="https://s2.loli.net/2022/06/30/WNbKJOqGoAgsRxI.jpg" /></p>
<p>但反过来，很多加班较多的工作，在签署劳动合同同时也要签订自愿加班的附带协议，为何我们又多有抱怨呢？招聘的老板同样可以说没有强迫任何人，不喜欢你可以不接受这份工作。这似乎又无法对他逼迫员工加班的行为提供辩护了。可见自主性本身并不能成为用工道德的完整辩护。</p>
<p>但不能辩护又如何？指责不会消灭一个行业，从电商上完全禁止这个行业，也是个过于粗暴的方式，在这里并没有“没有买卖，就没有伤害”的逻辑，野生动物在自然界也能自主存活，但一个人对于他已经接入的社会资源，彻底切断却是个很大的麻烦。</p>
<p>这让我想到在2020年火遍全网，成为当年第一迷因的<a
href="https://mp.weixin.qq.com/s?__biz=MzA3MDM3NjE5NQ==&amp;mid=2650852880&amp;idx=1&amp;sn=1d16fe4cb90167093265ce788625d2e6&amp;scene=21#wechat_redirect">抬棺舞</a>，这背后有一段故事。这段视频同样来自非洲，源起是来自加纳的抬棺人团队，这在当地本不算是个很体面的工作。视频中的这个团队由本地小伙Benjamin
Aidoo于2003年建立，最初提供的就是传统的，身着严肃制服的抬棺服务。</p>
<p>后来他却创造性地将舞蹈表演融入其中，并渐渐让仪式的氛围变得愉快，而抬棺人在仪式中的作用也因此变得重要，他这个特殊的服务形式在2017年被BBC报道后，就吸引到了不少关注，并在2020年爆火后，可以说带动了非洲全行业的”升级“，西非很多国家如尼日利亚等的抬棺人行业纷纷效仿，一时成为了流行。</p>
<p><img src="https://s2.loli.net/2022/06/30/m6zCXyPcJsTMWtq.jpg" /></p>
<p>YouTube视频截图</p>
<p>视频生日祝福本身未必一定是个侮辱性的服务，只要其服务形式不是纯粹的猎奇或色情擦边球，或是仅仅满足外国人说出蹩脚中文的狭隘民族自尊心。</p>
<p>赛博定制生日祝福可以是个很具有想象力的领域，其潜能得依靠有责任心的从业者的创造，不能是并不尊重非洲人的外国投机分子，也许是一位从中国毕业回到非洲的，懂得使用汉语，并了解淘宝等平台运作的非洲友人，有这样的人，这一行才会真正变得不同。这个路径，远超模模糊糊的“经济发展”。</p>
<p>比如，北京鼓楼的“小丑鲜花”是京城独一份的特殊存在，他们提供身着小丑服装送花，并表演魔术的特殊服务，给这个本应该是“跑腿儿”的工作增添了额外的色彩，可惜市容整治对他们产生了很大冲击，听说在疫情中他们更加艰难，以前在北京大街上总能碰见的，穿着艳丽服装送花的小丑们，可能已经不复存在。</p>
<p>但至少他们曾经证明，送花服务可以不仅仅是“跑腿”，世界并不是占据价值链低位，被人欺压，或者是成为人上人，欺压他人的二元选择。</p>
<p>在经济发展和富裕之外，尊严有大得多的空间。如果固守“穷则多辱”，也许只是一种简单的，令我们身边所有不公可以继续存在下去的懒惰，钱不是一切问题的答案。</p>
<h2 id="section-3"><strong>04</strong></h2>
<h4 id="尾声"><strong>尾声</strong></h4>
<p>如同最开始所言，如不是BBC的报道，我想很多人和我一样，还认为已经流行了一段时间的“非洲定制祝福”只是一个无伤大雅的娱乐。这也映照出一种尊重的氛围，离我们还相当遥远。</p>
<p>在这里也不必说“仓廪实而知礼节”，好像我们什么都不用做，等着经济发展，自然就更懂尊重。在那些竞争残酷的地方，越是笃信钱和力量决定一切的地方，越是有钱，好像只刺激很多人变着花样发明出从他人受辱中获得自尊的方法，金钱与力量，不过是帮助他们有更大空间来实现这些侮辱。</p>
<p><img src="https://s2.loli.net/2022/06/30/V53Yv6DiXaRGChu.jpg" /></p>
<p>通过“非洲定制祝福”这样的例子，我们了解、思考和实践自己对“道德”与“尊严”的想象，扩展其可能性的机遇，希望这些足以松动我们今日甚嚣尘上的经济决定论。</p>
<p>同样，我们也可以开始了解更多他们的故事，就像是Benjamin
Aidoo和他的Coffin
Dance的故事，或是我们身边与我们相关的边缘人、普通人的故事，他们帮助我们越过“非洲”或是“Made
in
Vietnam”的模糊标签，帮助我们到达一个活生生的世界，那里就是我所说的“语境”，在“高语境”中，我们将发现真正的可能。</p>
]]></content>
      <categories>
        <category>随想</category>
      </categories>
      <tags>
        <tag>种族歧视</tag>
        <tag>赛博劳工</tag>
      </tags>
  </entry>
</search>
